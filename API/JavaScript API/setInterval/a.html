<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body style="position: relative;">
  <!-- 使用 HTML 事件属性的方式是行内事件处理，它直接在 HTML 标签中定义了事件处理逻辑，这种方式简单直接，但不利于事件处理逻辑的复用和维护。 -->
  <button onclick="handleClick()">create setInterval</button>

  <!-- 使用 JavaScript 监听事件的方式更加灵活，你可以为同一个元素添加多个事件监听器，也可以更方便地控制事件的冒泡和捕获。 -->
  <button id="clearButton">clear setInterval</button>

  <button onclick="createASimple()">create Simple</button>

  <div id="myDiv" style="position: absolute; height: 18px; width: 18px; background-color: rosybrown; margin-top: 20px;"></div>
  <script>
    // setInterval 是由 JavaScript 提供的 API，它在任何支持 JavaScript 的环境中都可以使用，包括 Web 浏览器和 Node.js 环境。

    // 用途
    //   setInterval 用于按照指定的时间间隔重复执行代码。这在创建动画、定时刷新页面数据、定时检查某些条件等场景中非常有用。

    // 基本用法
    //   setInterval 接受两个参数：

    //   要重复执行的函数：这是一个每次时间间隔到达时都会执行的函数。
    //   时间间隔：这是一个表示时间的整数，单位是毫秒。
    //     var intervalId = setInterval(function, interval);
    //     function：要重复执行的函数。
    //     interval：执行函数的时间间隔，单位为毫秒。

    let intervalId
    //！ 执行handleClick函数，创建一个setInterval，每隔2秒打印"Hello, world!"   不会一调用handleClick就立即执行其中的函数
    function handleClick() {
      // setInterval的返回值是一个非负整数
      intervalId = setInterval(function() {
        console.log('Hello, world!');
      }, 2000);
    }
    

    // 在 JavaScript 中，事件处理函数接收一个 event 对象作为参数，该对象包含了关于事件的详细信息，如 event.target 表示触发事件的元素。

    // 使用 addEventListener 可以更好地控制事件的工作流程，例如，通过设置 event.preventDefault() 来阻止默认行为，或者使用 event.stopPropagation() 来阻止事件的进一步传播。
    document.getElementById('clearButton').addEventListener('click', function() {
      clearInterval(intervalId);
    });

    // 创建一个简单的动画
    function createASimple() {
      console.log('11111111111111111111111111111111111111111111111111111111', )

      var direction = 1; // 方向
      setInterval(function() {
        var div = document.getElementById('myDiv');
        div.style.left = parseInt(div.style.left) + 10 * direction + 'px';

        // 到达边界时反向
        if (div.offsetLeft >= window.innerWidth || div.offsetLeft <= 0) {
          direction *= -1;
        }
      }, 10);
    }
    
  </script>
</body>
</html>