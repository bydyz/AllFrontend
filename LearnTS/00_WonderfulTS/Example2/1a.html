<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript ApiRoute æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹è¯¦è§£</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 12px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .demo-box {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }
        
        .demo-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .demo-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .demo-code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            font-size: 0.95rem;
            white-space: pre;
        }
        
        .demo-output {
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        
        .basic-demo { border-left-color: #3b82f6; }
        .advanced-demo { border-left-color: #10b981; }
        .router-demo { border-left-color: #f59e0b; }
        .validation-demo { border-left-color: #ef4444; }
        .utility-demo { border-left-color: #8b5cf6; }
        
        .interactive-demo {
            margin-top: 30px;
        }
        
        .code-executor {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .code-input {
            width: 100%;
            min-height: 120px;
            background: #0f172a;
            color: #e2e8f0;
            border: 1px solid #334155;
            border-radius: 6px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            margin-bottom: 15px;
            resize: vertical;
        }
        
        .run-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .run-button:hover {
            background: #2563eb;
        }
        
        .output-area {
            background: #0f172a;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            min-height: 80px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        
        .summary {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .summary-item {
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
        }
        
        .summary-item h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .comparison {
            margin-top: 40px;
            padding: 25px;
            background: linear-gradient(135deg, #fef3c7 0%, #fef7ed 100%);
            border-radius: 12px;
            border-left: 6px solid #f59e0b;
        }
        
        .comparison h3 {
            color: #92400e;
            margin-bottom: 15px;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 25px;
            color: #7f8c8d;
            font-size: 0.95rem;
            border-top: 1px solid #e0e0e0;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .badge-ts { background: #3178c6; color: white; }
        .badge-important { background: #ef4444; color: white; }
        .badge-success { background: #10b981; color: white; }
        
        .method-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .method-table th, .method-table td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        
        .method-table th {
            background: #f8fafc;
            font-weight: 600;
        }
        
        .feature-tag {
            display: inline-block;
            padding: 4px 8px;
            background: #dbeafe;
            color: #1e40af;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
        }
        
        .type-highlight {
            color: #f59e0b;
            font-weight: bold;
        }
        
        .note {
            background: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .api-route {
            color: #7c3aed;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }
        
        .route-example {
            background: #f8fafc;
            padding: 10px;
            border-radius: 6px;
            margin: 5px 0;
            border-left: 3px solid #7c3aed;
        }
    </style>
</head>
<body>
    <header>
        <h1>TypeScript ApiRoute æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹è¯¦è§£</h1>
        <p class="subtitle">æ¢ç´¢ <code>type ApiRoute = `/api/${string}/${string}`</code> çš„å¼ºå¤§åº”ç”¨</p>
    </header>
    
    <div class="note">
        <strong>ğŸ’¡ æ ¸å¿ƒå®šä¹‰ï¼š</strong> <code>type ApiRoute = `/api/${string}/${string}`</code> è¡¨ç¤ºä»»ä½•ä»¥ <code>/api/</code> å¼€å¤´ï¼Œåé¢è·Ÿç€ä¸¤ä¸ªè·¯å¾„æ®µçš„å­—ç¬¦ä¸²ç±»å‹ã€‚
    </div>

    <div class="container">
        <section class="section">
            <h2>ğŸ¯ åŸºç¡€ç”¨æ³•</h2>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>1. åŸºæœ¬ç±»å‹å®šä¹‰ä¸ä½¿ç”¨</span>
                    <span class="badge badge-ts">TypeScript</span>
                </div>
                <div class="demo-code">
// åŸºç¡€ ApiRoute ç±»å‹å®šä¹‰
type ApiRoute = `/api/${string}/${string}`;

// âœ… æœ‰æ•ˆçš„ ApiRoute ç¤ºä¾‹
const validRoutes = {
    users: "/api/users/list" as ApiRoute,
    products: "/api/products/123" as ApiRoute,
    orders: "/api/orders/detail" as ApiRoute,
    categories: "/api/categories/update" as ApiRoute
};

// âŒ æ— æ•ˆçš„ ApiRoute ç¤ºä¾‹ï¼ˆTypeScript ä¼šæŠ¥é”™ï¼‰
/*
const invalidRoutes = {
    missingApi: "/users/list",           // é”™è¯¯ï¼šç¼ºå°‘ /api å‰ç¼€
    tooShort: "/api/users",              // é”™è¯¯ï¼šåªæœ‰ä¸€æ®µè·¯å¾„
    tooLong: "/api/users/list/detail",   // é”™è¯¯ï¼šè¶…è¿‡ä¸¤æ®µè·¯å¾„
    wrongPrefix: "/rest/users/list"      // é”™è¯¯ï¼šå‰ç¼€ä¸æ˜¯ /api
};
*/

// ä½¿ç”¨ ApiRoute ç±»å‹çš„å‡½æ•°
function createApiRequest(route: ApiRoute, method: string = "GET") {
    return {
        url: route,
        method,
        timestamp: new Date().toISOString()
    };
}

// æ­£ç¡®ä½¿ç”¨
const userRequest = createApiRequest("/api/users/list", "GET");
const productRequest = createApiRequest("/api/products/456", "POST");

console.log("åŸºç¡€ ApiRoute ä½¿ç”¨ç¤ºä¾‹:");
console.log("ç”¨æˆ·è¯·æ±‚:", userRequest);
console.log("å•†å“è¯·æ±‚:", productRequest);

// è‡ªåŠ¨ç±»å‹æ¨æ–­
function processRoute&lt;T extends ApiRoute&gt;(route: T): { route: T; segments: string[] } {
    const segments = route.split('/').filter(segment => segment.length > 0);
    return { route, segments };
}

const processed = processRoute("/api/orders/status");
console.log("è·¯ç”±å¤„ç†:", processed);
                </div>
                <div class="demo-output basic-demo" id="output1">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>2. æ‰©å±•çš„ API è·¯ç”±ç±»å‹</span>
                    <span class="badge badge-success">å®ç”¨æ‰©å±•</span>
                </div>
                <div class="demo-code">
// æ‰©å±•çš„ API è·¯ç”±ç±»å‹ç³»ç»Ÿ
type ApiRoute = `/api/${string}/${string}`;

// æ›´å…·ä½“çš„è·¯ç”±ç±»å‹
type UserRoute = `/api/users/${string}`;
type ProductRoute = `/api/products/${string}`;
type OrderRoute = `/api/orders/${string}`;

// å¸¦æ“ä½œç±»å‹çš„è·¯ç”±
type CrudRoute = `/api/${"users" | "products" | "orders"}/${"create" | "read" | "update" | "delete"}`;

// å¸¦ ID çš„è·¯ç”±
type EntityWithIdRoute = `/api/${string}/${number | string}`;

// ä½¿ç”¨å…·ä½“è·¯ç”±ç±»å‹çš„å‡½æ•°
function createUserEndpoint&lt;T extends UserRoute&gt;(route: T): T {
    console.log(`åˆ›å»ºç”¨æˆ·ç«¯ç‚¹: ${route}`);
    return route;
}

function createProductEndpoint&lt;T extends ProductRoute&gt;(route: T): T {
    console.log(`åˆ›å»ºå•†å“ç«¯ç‚¹: ${route}`);
    return route;
}

// æ­£ç¡®ä½¿ç”¨
const userProfile = createUserEndpoint("/api/users/profile");
const userSettings = createUserEndpoint("/api/users/settings");
const productDetail = createProductEndpoint("/api/products/detail");
const productSearch = createProductEndpoint("/api/products/search");

console.log("æ‰©å±•è·¯ç”±ç±»å‹ç¤ºä¾‹:");
console.log("ç”¨æˆ·é…ç½®:", userSettings);
console.log("å•†å“æœç´¢:", productSearch);

// è·¯ç”±å·¥å‚å‡½æ•°
class ApiRouteFactory {
    static createUserRoute(action: string): UserRoute {
        return `/api/users/${action}` as UserRoute;
    }
    
    static createProductRoute(action: string): ProductRoute {
        return `/api/products/${action}` as ProductRoute;
    }
    
    static createOrderRoute(action: string): OrderRoute {
        return `/api/orders/${action}` as OrderRoute;
    }
}

const userList = ApiRouteFactory.createUserRoute("list");
const productCreate = ApiRouteFactory.createProductRoute("create");
const orderUpdate = ApiRouteFactory.createOrderRoute("update");

console.log("è·¯ç”±å·¥å‚åˆ›å»º:");
console.log("ç”¨æˆ·åˆ—è¡¨:", userList);
console.log("å•†å“åˆ›å»º:", productCreate);
console.log("è®¢å•æ›´æ–°:", orderUpdate);
                </div>
                <div class="demo-output basic-demo" id="output2">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2>ğŸ—ï¸ é«˜çº§è·¯ç”±æ¨¡å¼</h2>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>1. åŠ¨æ€è·¯ç”±å‚æ•°æå–</span>
                    <span class="badge badge-important">é«˜çº§ç‰¹æ€§</span>
                </div>
                <div class="demo-code">
// åŠ¨æ€è·¯ç”±å‚æ•°æå–
type ApiRoute = `/api/${string}/${string}`;

// æå–è·¯ç”±å‚æ•°çš„ç±»å‹å·¥å…·
type ExtractRouteParams&lt;T extends ApiRoute&gt; = 
    T extends `/api/${infer Resource}/${infer Action}` 
    ? { resource: Resource; action: Action } 
    : never;

// è·¯ç”±è§£æå‡½æ•°
function parseApiRoute&lt;T extends ApiRoute&gt;(route: T): ExtractRouteParams&lt;T&gt; {
    const [, , resource, action] = route.split('/');
    return { resource, action } as ExtractRouteParams&lt;T&gt;;
}

// ä½¿ç”¨ç¤ºä¾‹
const userRoutes = {
    list: parseApiRoute("/api/users/list"),
    create: parseApiRoute("/api/users/create"),
    detail: parseApiRoute("/api/users/detail")
};

const productRoutes = {
    search: parseApiRoute("/api/products/search"),
    update: parseApiRoute("/api/products/update"),
    delete: parseApiRoute("/api/products/delete")
};

console.log("åŠ¨æ€è·¯ç”±å‚æ•°æå–:");
console.log("ç”¨æˆ·è·¯ç”±:", userRoutes);
console.log("å•†å“è·¯ç”±:", productRoutes);

// æ›´å¤æ‚çš„å‚æ•°æå–
type DetailedRouteParams&lt;T extends ApiRoute&gt; = 
    T extends `/api/${infer Resource}/${infer Action}`
    ? {
        fullPath: T;
        resource: Resource;
        action: Action;
        segments: [Resource, Action];
        isReadOperation: Action extends "get" | "list" | "read" ? true : false;
        isWriteOperation: Action extends "create" | "update" | "delete" ? true : false;
    }
    : never;

function analyzeRoute&lt;T extends ApiRoute&gt;(route: T): DetailedRouteParams&lt;T&gt; {
    const [, , resource, action] = route.split('/');
    const isReadOperation = ["get", "list", "read"].includes(action);
    const isWriteOperation = ["create", "update", "delete"].includes(action);
    
    return {
        fullPath: route,
        resource,
        action,
        segments: [resource, action],
        isReadOperation,
        isWriteOperation
    } as DetailedRouteParams&lt;T&gt;;
}

const analyzedRoutes = [
    analyzeRoute("/api/users/get"),
    analyzeRoute("/api/products/create"),
    analyzeRoute("/api/orders/list")
];

console.log("\nè·¯ç”±æ·±åº¦åˆ†æ:");
analyzedRoutes.forEach(route => {
    console.log(`è·¯ç”± ${route.fullPath}:`, {
        èµ„æº: route.resource,
        æ“ä½œ: route.action,
        æ˜¯å¦è¯»æ“ä½œ: route.isReadOperation,
        æ˜¯å¦å†™æ“ä½œ: route.isWriteOperation
    });
});
                </div>
                <div class="demo-output advanced-demo" id="output3">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>2. è·¯ç”±å®ˆå«ä¸éªŒè¯</span>
                    <span class="badge badge-success">å®‰å…¨ç‰¹æ€§</span>
                </div>
                <div class="demo-code">
// è·¯ç”±å®ˆå«ä¸éªŒè¯
type ApiRoute = `/api/${string}/${string}`;

// æƒé™çº§åˆ«
type PermissionLevel = "public" | "user" | "admin" | "superadmin";

// è·¯ç”±æƒé™æ˜ å°„
type RoutePermissions = {
    [K in ApiRoute]?: PermissionLevel;
};

// å®šä¹‰è·¯ç”±æƒé™
const routePermissions: RoutePermissions = {
    "/api/users/list": "user",
    "/api/users/create": "admin",
    "/api/users/delete": "superadmin",
    "/api/products/list": "public",
    "/api/products/create": "admin",
    "/api/products/update": "admin",
    "/api/orders/list": "user",
    "/api/orders/create": "user"
};

// è·¯ç”±å®ˆå«ç±»
class RouteGuard {
    private userPermission: PermissionLevel;
    
    constructor(userPermission: PermissionLevel = "public") {
        this.userPermission = userPermission;
    }
    
    // æ£€æŸ¥æ˜¯å¦æœ‰æƒé™è®¿é—®è·¯ç”±
    canAccess&lt;T extends ApiRoute&gt;(route: T): boolean {
        const requiredPermission = routePermissions[route];
        
        if (!requiredPermission) {
            console.log(`è·¯ç”± ${route} æœªé…ç½®æƒé™ï¼Œé»˜è®¤æ‹’ç»`);
            return false;
        }
        
        const permissionHierarchy: PermissionLevel[] = ["public", "user", "admin", "superadmin"];
        const userLevel = permissionHierarchy.indexOf(this.userPermission);
        const requiredLevel = permissionHierarchy.indexOf(requiredPermission);
        
        return userLevel >= requiredLevel;
    }
    
    // å®‰å…¨æ‰§è¡Œè·¯ç”±æ“ä½œ
    executeSafely&lt;T extends ApiRoute&gt;(
        route: T, 
        operation: () => void
    ): { success: boolean; message: string } {
        if (this.canAccess(route)) {
            operation();
            return { success: true, message: `æˆåŠŸæ‰§è¡Œè·¯ç”±: ${route}` };
        } else {
            return { 
                success: false, 
                message: `æƒé™ä¸è¶³: éœ€è¦ ${routePermissions[route]}ï¼Œå½“å‰æ˜¯ ${this.userPermission}` 
            };
        }
    }
}

// ä½¿ç”¨è·¯ç”±å®ˆå«
console.log("è·¯ç”±å®ˆå«ç¤ºä¾‹:");

const publicUser = new RouteGuard("public");
const normalUser = new RouteGuard("user");
const adminUser = new RouteGuard("admin");
const superAdmin = new RouteGuard("superadmin");

const testRoutes: ApiRoute[] = [
    "/api/products/list",
    "/api/users/list", 
    "/api/users/create",
    "/api/users/delete"
];

testRoutes.forEach(route => {
    console.log(`\næµ‹è¯•è·¯ç”±: ${route}`);
    console.log(`å…¬å¼€ç”¨æˆ·: ${publicUser.canAccess(route)}`);
    console.log(`æ™®é€šç”¨æˆ·: ${normalUser.canAccess(route)}`);
    console.log(`ç®¡ç†å‘˜: ${adminUser.canAccess(route)}`);
    console.log(`è¶…çº§ç®¡ç†å‘˜: ${superAdmin.canAccess(route)}`);
});

// å®‰å…¨æ‰§è¡Œç¤ºä¾‹
const operation = () => console.log("æ‰§è¡Œæ•æ„Ÿæ“ä½œ...");
const result = adminUser.executeSafely("/api/users/create", operation);
console.log("\nå®‰å…¨æ‰§è¡Œç»“æœ:", result);
                </div>
                <div class="demo-output advanced-demo" id="output4">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </section>
    </div>
    
    <div class="container">
        <section class="section">
            <h2>ğŸš€ å®é™…åº”ç”¨åœºæ™¯</h2>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>1. API å®¢æˆ·ç«¯å®ç°</span>
                    <span class="badge badge-ts">ç”Ÿäº§çº§ä»£ç </span>
                </div>
                <div class="demo-code">
// API å®¢æˆ·ç«¯å®ç°
type ApiRoute = `/api/${string}/${string}`;

interface ApiResponse<T = any> {
    data: T;
    status: number;
    message: string;
}

class ApiClient {
    private baseURL: string;
    private headers: Record<string, string>;
    
    constructor(baseURL: string = "") {
        this.baseURL = baseURL;
        this.headers = {
            'Content-Type': 'application/json',
        };
    }
    
    // è®¾ç½®è®¤è¯å¤´
    setAuthorization(token: string): void {
        this.headers['Authorization'] = `Bearer ${token}`;
    }
    
    // é€šç”¨è¯·æ±‚æ–¹æ³•
    async request&lt;T extends ApiRoute, R = any&gt;(
        route: T,
        options: {
            method?: 'GET' | 'POST' | 'PUT' | 'DELETE';
            body?: any;
            headers?: Record<string, string>;
        } = {}
    ): Promise<ApiResponse<R>> {
        const url = `${this.baseURL}${route}`;
        const config: RequestInit = {
            method: options.method || 'GET',
            headers: { ...this.headers, ...options.headers },
            body: options.body ? JSON.stringify(options.body) : undefined,
        };
        
        try {
            const response = await fetch(url, config);
            const data = await response.json();
            
            return {
                data,
                status: response.status,
                message: response.ok ? 'Success' : 'Error'
            };
        } catch (error) {
            throw new Error(`APIè¯·æ±‚å¤±è´¥: ${error.message}`);
        }
    }
    
    // ä¾¿æ·æ–¹æ³•
    async get&lt;T extends ApiRoute, R = any&gt;(route: T): Promise<ApiResponse<R>> {
        return this.request(route, { method: 'GET' });
    }
    
    async post&lt;T extends ApiRoute, R = any&gt;(
        route: T, 
        body: any
    ): Promise<ApiResponse<R>> {
        return this.request(route, { method: 'POST', body });
    }
    
    async put&lt;T extends ApiRoute, R = any&gt;(
        route: T, 
        body: any
    ): Promise<ApiResponse<R>> {
        return this.request(route, { method: 'PUT', body });
    }
    
    async delete&lt;T extends ApiRoute, R = any&gt;(route: T): Promise<ApiResponse<R>> {
        return this.request(route, { method: 'DELETE' });
    }
}

// ä½¿ç”¨ API å®¢æˆ·ç«¯
console.log("API å®¢æˆ·ç«¯ç¤ºä¾‹:");

// æ¨¡æ‹Ÿçš„ API å®¢æˆ·ç«¯ä½¿ç”¨
const apiClient = new ApiClient("https://api.example.com");
apiClient.setAuthorization("mock-jwt-token");

// ç±»å‹å®‰å…¨çš„ API è°ƒç”¨
async function demonstrateApiClient() {
    try {
        // è¿™äº›è°ƒç”¨åœ¨ TypeScript ä¸­æ˜¯ç±»å‹å®‰å…¨çš„
        const usersResponse = await apiClient.get("/api/users/list");
        console.log("è·å–ç”¨æˆ·åˆ—è¡¨:", usersResponse);
        
        const createUserResponse = await apiClient.post("/api/users/create", {
            name: "å¼ ä¸‰",
            email: "zhangsan@example.com"
        });
        console.log("åˆ›å»ºç”¨æˆ·:", createUserResponse);
        
        const updateProductResponse = await apiClient.put("/api/products/update", {
            id: 123,
            name: "æ›´æ–°åçš„å•†å“"
        });
        console.log("æ›´æ–°å•†å“:", updateProductResponse);
        
        // âŒ è¿™äº›è°ƒç”¨ä¼šåœ¨ TypeScript ç¼–è¯‘æ—¶æŠ¥é”™
        /*
        await apiClient.get("/users/list");                    // é”™è¯¯ï¼šç¼ºå°‘ /api å‰ç¼€
        await apiClient.get("/api/users");                     // é”™è¯¯ï¼šåªæœ‰ä¸€æ®µè·¯å¾„
        await apiClient.get("/api/users/list/detail");         // é”™è¯¯ï¼šè¶…è¿‡ä¸¤æ®µè·¯å¾„
        */
        
    } catch (error) {
        console.error("APIè°ƒç”¨é”™è¯¯:", error.message);
    }
}

// ç”±äºæ˜¯æ¼”ç¤ºï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿè°ƒç”¨ç»“æœ
console.log("æ¨¡æ‹Ÿ API å®¢æˆ·ç«¯è°ƒç”¨...");
console.log("æ‰€æœ‰è·¯ç”±éƒ½æ˜¯ç±»å‹å®‰å…¨çš„ï¼");

// è·¯ç”±æ˜ å°„å·¥å…·
const apiRoutes = {
    users: {
        list: "/api/users/list" as ApiRoute,
        create: "/api/users/create" as ApiRoute,
        detail: "/api/users/detail" as ApiRoute,
        update: "/api/users/update" as ApiRoute,
        delete: "/api/users/delete" as ApiRoute
    },
    products: {
        list: "/api/products/list" as ApiRoute,
        create: "/api/products/create" as ApiRoute,
        search: "/api/products/search" as ApiRoute,
        update: "/api/products/update" as ApiRoute
    },
    orders: {
        list: "/api/orders/list" as ApiRoute,
        create: "/api/orders/create" as ApiRoute,
        detail: "/api/orders/detail" as ApiRoute
    }
};

console.log("\né¢„å®šä¹‰è·¯ç”±æ˜ å°„:");
console.log("ç”¨æˆ·è·¯ç”±:", apiRoutes.users);
console.log("å•†å“è·¯ç”±:", apiRoutes.products);
                </div>
                <div class="demo-output router-demo" id="output5">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>2. è·¯ç”±ç”Ÿæˆä¸éªŒè¯å·¥å…·</span>
                    <span class="badge badge-success">å¼€å‘å·¥å…·</span>
                </div>
                <div class="demo-code">
// è·¯ç”±ç”Ÿæˆä¸éªŒè¯å·¥å…·
type ApiRoute = `/api/${string}/${string}`;

class RouteUtils {
    // éªŒè¯è·¯ç”±æ ¼å¼
    static isValidApiRoute(route: string): route is ApiRoute {
        const pattern = /^\/api\/[^/]+\/[^/]+$/;
        return pattern.test(route);
    }
    
    // ä»éƒ¨åˆ†ä¿¡æ¯ç”Ÿæˆè·¯ç”±
    static createRoute(resource: string, action: string): ApiRoute {
        return `/api/${resource}/${action}` as ApiRoute;
    }
    
    // è§£æè·¯ç”±ä¸ºèµ„æºå’Œæ–¹æ³•
    static parseRoute(route: ApiRoute): { resource: string; action: string } {
        const [, , resource, action] = route.split('/');
        return { resource, action };
    }
    
    // è·å–è·¯ç”±çš„åŸºç¡€è·¯å¾„ï¼ˆå»æ‰åŠ¨ä½œï¼‰
    static getBasePath(route: ApiRoute): string {
        const { resource } = this.parseRoute(route);
        return `/api/${resource}`;
    }
    
    // è·¯ç”±è½¬æ¢ï¼ˆæ”¹å˜åŠ¨ä½œï¼‰
    static transformRoute(route: ApiRoute, newAction: string): ApiRoute {
        const { resource } = this.parseRoute(route);
        return this.createRoute(resource, newAction);
    }
    
    // æ‰¹é‡ç”Ÿæˆ CRUD è·¯ç”±
    static generateCrudRoutes(resource: string): Record<string, ApiRoute> {
        return {
            create: this.createRoute(resource, "create"),
            read: this.createRoute(resource, "read"), 
            list: this.createRoute(resource, "list"),
            update: this.createRoute(resource, "update"),
            delete: this.createRoute(resource, "delete")
        };
    }
    
    // è·¯ç”±åˆ†ç»„
    static groupRoutes(routes: ApiRoute[]): Record<string, ApiRoute[]> {
        return routes.reduce((groups, route) => {
            const { resource } = this.parseRoute(route);
            if (!groups[resource]) {
                groups[resource] = [];
            }
            groups[resource].push(route);
            return groups;
        }, {} as Record<string, ApiRoute[]>);
    }
}

// ä½¿ç”¨è·¯ç”±å·¥å…·
console.log("è·¯ç”±å·¥å…·ä½¿ç”¨ç¤ºä¾‹:");

// éªŒè¯è·¯ç”±
const testRoutes = [
    "/api/users/list",
    "/api/products/123",
    "/users/list",
    "/api/users",
    "/api/users/list/detail"
];

console.log("è·¯ç”±éªŒè¯ç»“æœ:");
testRoutes.forEach(route => {
    console.log(`${route}: ${RouteUtils.isValidApiRoute(route) ? 'âœ… æœ‰æ•ˆ' : 'âŒ æ— æ•ˆ'}`);
});

// ç”Ÿæˆè·¯ç”±
const userRoutes = RouteUtils.generateCrudRoutes("users");
const productRoutes = RouteUtils.generateCrudRoutes("products");

console.log("\nç”Ÿæˆçš„ CRUD è·¯ç”±:");
console.log("ç”¨æˆ·è·¯ç”±:", userRoutes);
console.log("å•†å“è·¯ç”±:", productRoutes);

// è·¯ç”±è§£æå’Œè½¬æ¢
const originalRoute = "/api/users/list" as ApiRoute;
const parsed = RouteUtils.parseRoute(originalRoute);
const basePath = RouteUtils.getBasePath(originalRoute);
const transformed = RouteUtils.transformRoute(originalRoute, "detail");

console.log("\nè·¯ç”±æ“ä½œ:");
console.log("åŸå§‹è·¯ç”±:", originalRoute);
console.log("è§£æç»“æœ:", parsed);
console.log("åŸºç¡€è·¯å¾„:", basePath);
console.log("è½¬æ¢åè·¯ç”±:", transformed);

// è·¯ç”±åˆ†ç»„
const allRoutes: ApiRoute[] = [
    "/api/users/list",
    "/api/users/create", 
    "/api/products/list",
    "/api/products/search",
    "/api/orders/list",
    "/api/orders/create"
];

const groupedRoutes = RouteUtils.groupRoutes(allRoutes);
console.log("\nè·¯ç”±åˆ†ç»„:");
Object.entries(groupedRoutes).forEach(([resource, routes]) => {
    console.log(`${resource}:`, routes);
});
                </div>
                <div class="demo-output router-demo" id="output6">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2>ğŸ”§ é«˜çº§æ¨¡å¼ä¸æŠ€å·§</h2>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>1. æ¡ä»¶è·¯ç”±ç±»å‹</span>
                    <span class="badge badge-important">é«˜çº§æ¨¡å¼</span>
                </div>
                <div class="demo-code">
// æ¡ä»¶è·¯ç”±ç±»å‹
type ApiRoute = `/api/${string}/${string}`;

// åŸºäºæ“ä½œç±»å‹çš„æ¡ä»¶ç±»å‹
type ReadOnlyRoute = `/api/${string}/${"get" | "list" | "read"}`;
type WriteRoute = `/api/${string}/${"create" | "update" | "delete"}`;

// æ£€æŸ¥è·¯ç”±ç±»å‹
type IsReadRoute<T extends ApiRoute> = T extends ReadOnlyRoute ? true : false;
type IsWriteRoute<T extends ApiRoute> = T extends WriteRoute ? true : false;

// åŸºäºèµ„æºç±»å‹çš„æ¡ä»¶ç±»å‹
type UserRoute = `/api/users/${string}`;
type ProductRoute = `/api/products/${string}`;
type OrderRoute = `/api/orders/${string}`;

type ExtractResource<T extends ApiRoute> = 
    T extends `/api/${infer Resource}/${string}` ? Resource : never;

type ExtractAction<T extends ApiRoute> = 
    T extends `/api/${string}/${infer Action}` ? Action : never;

// é«˜çº§è·¯ç”±å¤„ç†
class AdvancedRouteHandler {
    // æ ¹æ®è·¯ç”±ç±»å‹åˆ†æ´¾ä¸åŒçš„å¤„ç†é€»è¾‘
    static handleRoute<T extends ApiRoute>(route: T, data?: any): string {
        type Resource = ExtractResource<T>;
        type Action = ExtractAction<T>;
        
        const isRead = this.isReadRoute(route);
        const isWrite = this.isWriteRoute(route);
        const resource = this.getResource(route);
        const action = this.getAction(route);
        
        if (isRead) {
            return this.handleReadRoute(route, resource, action);
        } else if (isWrite) {
            return this.handleWriteRoute(route, resource, action, data);
        }
        
        return `å¤„ç†æœªçŸ¥è·¯ç”±: ${route}`;
    }
    
    private static isReadRoute(route: ApiRoute): boolean {
        return ["get", "list", "read"].some(action => route.endsWith(`/${action}`));
    }
    
    private static isWriteRoute(route: ApiRoute): boolean {
        return ["create", "update", "delete"].some(action => route.endsWith(`/${action}`));
    }
    
    private static getResource(route: ApiRoute): string {
        return route.split('/')[2];
    }
    
    private static getAction(route: ApiRoute): string {
        return route.split('/')[3];
    }
    
    private static handleReadRoute(route: ApiRoute, resource: string, action: string): string {
        return `è¯»å–æ“ä½œ: ${resource}.${action} (${route})`;
    }
    
    private static handleWriteRoute(route: ApiRoute, resource: string, action: string, data?: any): string {
        const dataInfo = data ? `, æ•°æ®: ${JSON.stringify(data)}` : '';
        return `å†™å…¥æ“ä½œ: ${resource}.${action} (${route})${dataInfo}`;
    }
}

// ä½¿ç”¨é«˜çº§è·¯ç”±å¤„ç†
console.log("é«˜çº§è·¯ç”±å¤„ç†ç¤ºä¾‹:");

const testCases: Array<{ route: ApiRoute; data?: any }> = [
    { route: "/api/users/list" },
    { route: "/api/users/get", data: { id: 123 } },
    { route: "/api/products/create", data: { name: "æ–°äº§å“" } },
    { route: "/api/orders/update", data: { status: "shipped" } },
    { route: "/api/products/delete", data: { id: 456 } }
];

testCases.forEach(({ route, data }) => {
    const result = AdvancedRouteHandler.handleRoute(route, data);
    console.log(result);
});

// ç±»å‹çº§ç¼–ç¨‹ç¤ºä¾‹
type RouteInfo<T extends ApiRoute> = {
    route: T;
    resource: ExtractResource<T>;
    action: ExtractAction<T>;
    isRead: IsReadRoute<T>;
    isWrite: IsWriteRoute<T>;
    allowedMethods: IsReadRoute<T> extends true 
        ? ["GET"] 
        : IsWriteRoute<T> extends true 
            ? ["POST", "PUT", "DELETE"] 
            : never;
};

function createRouteInfo<T extends ApiRoute>(route: T): RouteInfo<T> {
    const resource = route.split('/')[2];
    const action = route.split('/')[3];
    const isRead = ["get", "list", "read"].includes(action);
    const isWrite = ["create", "update", "delete"].includes(action);
    const allowedMethods = isRead ? ["GET"] : isWrite ? ["POST", "PUT", "DELETE"] : [];
    
    return {
        route,
        resource,
        action,
        isRead,
        isWrite,
        allowedMethods
    } as RouteInfo<T>;
}

console.log("\nè·¯ç”±ä¿¡æ¯åˆ†æ:");
const routeInfos = testCases.map(({ route }) => createRouteInfo(route));
routeInfos.forEach(info => {
    console.log(`${info.route}:`, {
        èµ„æº: info.resource,
        æ“ä½œ: info.action,
        æ˜¯å¦è¯»æ“ä½œ: info.isRead,
        æ˜¯å¦å†™æ“ä½œ: info.isWrite,
        å…è®¸æ–¹æ³•: info.allowedMethods
    });
});
                </div>
                <div class="demo-output utility-demo" id="output7">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            
            <div class="demo-box">
                <div class="demo-title">
                    <span>2. è·¯ç”±æµ‹è¯•ä¸é”™è¯¯å¤„ç†</span>
                    <span class="badge badge-success">è´¨é‡ä¿è¯</span>
                </div>
                <div class="demo-code">
// è·¯ç”±æµ‹è¯•ä¸é”™è¯¯å¤„ç†
type ApiRoute = `/api/${string}/${string}`;

// è·¯ç”±æµ‹è¯•å¥—ä»¶
class RouteTester {
    // æµ‹è¯•è·¯ç”±æœ‰æ•ˆæ€§
    static testRouteValidity() {
        const testCases: Array<{ route: string; expected: boolean }> = [
            { route: "/api/users/list", expected: true },
            { route: "/api/products/123", expected: true },
            { route: "/api/orders/create", expected: true },
            { route: "/users/list", expected: false },
            { route: "/api/users", expected: false },
            { route: "/api/users/list/detail", expected: false },
            { route: "/rest/users/list", expected: false }
        ];
        
        console.log("è·¯ç”±æœ‰æ•ˆæ€§æµ‹è¯•:");
        testCases.forEach(({ route, expected }) => {
            const isValid = /^\/api\/[^/]+\/[^/]+$/.test(route);
            const status = isValid === expected ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥';
            console.log(`${status} ${route} (æœŸæœ›: ${expected}, å®é™…: ${isValid})`);
        });
    }
    
    // æ€§èƒ½æµ‹è¯•ï¼šè·¯ç”±è§£æ
    static performanceTest() {
        const routes: ApiRoute[] = [
            "/api/users/list", "/api/products/search", "/api/orders/detail",
            "/api/categories/update", "/api/settings/get"
        ];
        
        console.log("\nè·¯ç”±è§£ææ€§èƒ½æµ‹è¯•:");
        const startTime = performance.now();
        
        for (let i = 0; i < 10000; i++) {
            routes.forEach(route => {
                const [, , resource, action] = route.split('/');
                // æ¨¡æ‹Ÿè·¯ç”±å¤„ç†
                const processed = { resource, action, fullPath: route };
            });
        }
        
        const endTime = performance.now();
        console.log(`å¤„ç† ${routes.length * 10000} ä¸ªè·¯ç”±è€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
    }
    
    // é”™è¯¯è¾¹ç•Œæµ‹è¯•
    static errorBoundaryTest() {
        console.log("\né”™è¯¯è¾¹ç•Œæµ‹è¯•:");
        
        // æµ‹è¯•æ— æ•ˆè·¯ç”±å¤„ç†
        const invalidRoutes = [
            "/users/list",
            "/api/users",
            "/api/users/list/detail",
            "/rest/users/list",
            ""
        ];
        
        invalidRoutes.forEach(route => {
            try {
                // æ¨¡æ‹Ÿè·¯ç”±å¤„ç†
                if (!/^\/api\/[^/]+\/[^/]+$/.test(route)) {
                    throw new Error(`æ— æ•ˆçš„è·¯ç”±æ ¼å¼: ${route}`);
                }
                console.log(`âœ… æœ‰æ•ˆè·¯ç”±: ${route}`);
            } catch (error) {
                console.log(`âŒ æ•è·é”™è¯¯: ${error.message}`);
            }
        });
    }
    
    // è·¯ç”±ç”Ÿæˆæµ‹è¯•
    static routeGenerationTest() {
        console.log("\nè·¯ç”±ç”Ÿæˆæµ‹è¯•:");
        
        const testCases: Array<{ resource: string; action: string; expected: ApiRoute }> = [
            { resource: "users", action: "list", expected: "/api/users/list" },
            { resource: "products", action: "create", expected: "/api/products/create" },
            { resource: "orders", action: "update", expected: "/api/orders/update" }
        ];
        
        testCases.forEach(({ resource, action, expected }) => {
            const generated = `/api/${resource}/${action}` as ApiRoute;
            const status = generated === expected ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥';
            console.log(`${status} ç”Ÿæˆè·¯ç”±: ${generated} (æœŸæœ›: ${expected})`);
        });
    }
}

// è¿è¡Œæ‰€æœ‰æµ‹è¯•
console.log("=== è·¯ç”±æµ‹è¯•å¥—ä»¶ ===");
RouteTester.testRouteValidity();
RouteTester.performanceTest();
RouteTester.errorBoundaryTest();
RouteTester.routeGenerationTest();

// è·¯ç”±ç›‘æ§å’Œæ—¥å¿—
class RouteMonitor {
    private static accessLog: Array<{ route: ApiRoute; timestamp: Date; status: string }> = [];
    
    static logAccess(route: ApiRoute, status: 'success' | 'error' = 'success') {
        this.accessLog.push({
            route,
            timestamp: new Date(),
            status
        });
        
        console.log(`ğŸ“Š è·¯ç”±è®¿é—®: ${route} [${status}]`);
    }
    
    static getAccessStats() {
        const total = this.accessLog.length;
        const success = this.accessLog.filter(entry => entry.status === 'success').length;
        const error = total - success;
        const successRate = total > 0 ? (success / total * 100).toFixed(2) : '0.00';
        
        return {
            total,
            success,
            error,
            successRate: `${successRate}%`
        };
    }
    
    static printAccessReport() {
        const stats = this.getAccessStats();
        console.log("\n=== è·¯ç”±è®¿é—®æŠ¥å‘Š ===");
        console.log(`æ€»è®¿é—®é‡: ${stats.total}`);
        console.log(`æˆåŠŸ: ${stats.success}`);
        console.log(`å¤±è´¥: ${stats.error}`);
        console.log(`æˆåŠŸç‡: ${stats.successRate}`);
        
        console.log("\næœ€è¿‘è®¿é—®:");
        this.accessLog.slice(-5).forEach(entry => {
            console.log(`  ${entry.timestamp.toISOString()} - ${entry.route} [${entry.status}]`);
        });
    }
}

// æ¨¡æ‹Ÿè·¯ç”±è®¿é—®ç›‘æ§
console.log("\n=== è·¯ç”±ç›‘æ§æ¼”ç¤º ===");
const monitoredRoutes: ApiRoute[] = [
    "/api/users/list",
    "/api/products/search", 
    "/api/orders/create",
    "/api/users/get",
    "/api/products/update"
];

monitoredRoutes.forEach((route, index) => {
    const status = index % 5 === 0 ? 'error' : 'success'; // æ¨¡æ‹Ÿ 20% é”™è¯¯ç‡
    RouteMonitor.logAccess(route, status);
});

RouteMonitor.printAccessReport();
                </div>
                <div class="demo-output utility-demo" id="output8">
                    <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </section>
    </div>

    <section class="section interactive-demo">
        <h2>ğŸ’» ApiRoute äº¤äº’å¼æµ‹è¯•</h2>
        <p>åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­æµ‹è¯•å„ç§è·¯ç”±æ ¼å¼æ˜¯å¦åŒ¹é… <code>ApiRoute</code> ç±»å‹ï¼š</p>
        
        <div class="code-executor">
            <textarea class="code-input" id="userCode" placeholder="åœ¨è¿™é‡Œæµ‹è¯•è·¯ç”±æ ¼å¼...">
// ApiRoute éªŒè¯å‡½æ•°
function testApiRoute(route) {
    const pattern = /^\/api\/[^/]+\/[^/]+$/;
    const isValid = pattern.test(route);
    
    console.log(`è·¯ç”±: "${route}"`);
    console.log(`æ ¼å¼: ${isValid ? 'âœ… ç¬¦åˆ ApiRoute' : 'âŒ ä¸ç¬¦åˆ ApiRoute'}`);
    
    if (isValid) {
        const [, , resource, action] = route.split('/');
        console.log(`èµ„æº: ${resource}`);
        console.log(`æ“ä½œ: ${action}`);
    } else {
        console.log('é—®é¢˜åˆ†æ:');
        if (!route.startsWith('/api/')) {
            console.log('  - å¿…é¡»ä»¥ /api/ å¼€å¤´');
        }
        const parts = route.split('/').filter(part => part.length > 0);
        if (parts.length < 3) {
            console.log('  - è·¯å¾„æ®µä¸è¶³');
        } else if (parts.length > 3) {
            console.log('  - è·¯å¾„æ®µè¿‡å¤š');
        }
    }
    console.log('---');
}

// æµ‹è¯•å„ç§è·¯ç”±æ ¼å¼
console.log('=== ApiRoute æ ¼å¼æµ‹è¯• ===\n');

// âœ… æœ‰æ•ˆçš„è·¯ç”±
testApiRoute("/api/users/list");
testApiRoute("/api/products/123");
testApiRoute("/api/orders/create");
testApiRoute("/api/categories/update");

console.log('=== æ— æ•ˆçš„è·¯ç”±æµ‹è¯• ===\n');

// âŒ æ— æ•ˆçš„è·¯ç”±
testApiRoute("/users/list");
testApiRoute("/api/users");
testApiRoute("/api/users/list/detail");
testApiRoute("/rest/users/list");
testApiRoute("api/users/list");
testApiRoute("/api//list");

console.log('=== è¾¹ç•Œæƒ…å†µæµ‹è¯• ===\n');

// è¾¹ç•Œæƒ…å†µ
testApiRoute("/api/a/b");          // æœ€çŸ­æœ‰æ•ˆè·¯å¾„
testApiRoute("/api/very-long-resource-name/very-long-action-name"); // é•¿è·¯å¾„
testApiRoute("/api/123/456");      // æ•°å­—è·¯å¾„æ®µ
testApiRoute("/api/user-1/action_2"); // å¸¦ç‰¹æ®Šå­—ç¬¦

console.log('=== æµ‹è¯•å®Œæˆ ===');
            </textarea>
            <button class="run-button" onclick="executeUserCode()">è¿è¡Œæµ‹è¯•</button>
            <div class="output-area" id="userOutput">
                æµ‹è¯•ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
            </div>
        </div>
    </section>
    
    <section class="summary">
        <h2>ğŸ“š ApiRoute æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹å®Œæ•´æ€»ç»“</h2>
        
        <div class="summary-grid">
            <div class="summary-item">
                <h3>âœ… æœ‰æ•ˆçš„ ApiRoute ç¤ºä¾‹</h3>
                <div class="route-example">/api/users/list</div>
                <div class="route-example">/api/products/123</div>
                <div class="route-example">/api/orders/create</div>
                <div class="route-example">/api/categories/update</div>
                <div class="route-example">/api/settings/get</div>
            </div>
            
            <div class="summary-item">
                <h3>âŒ æ— æ•ˆçš„ ApiRoute ç¤ºä¾‹</h3>
                <div class="route-example">/users/list</div>
                <div class="route-example">/api/users</div>
                <div class="route-example">/api/users/list/detail</div>
                <div class="route-example">/rest/users/list</div>
                <div class="route-example">api/users/list</div>
            </div>
            
            <div class="summary-item">
                <h3>ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h3>
                <ul>
                    <li><strong>ç±»å‹å®‰å…¨</strong> - ç¼–è¯‘æ—¶è·¯ç”±éªŒè¯</li>
                    <li><strong>æ¨¡å¼åŒ¹é…</strong> - ä¸¥æ ¼çš„è·¯ç”±æ ¼å¼çº¦æŸ</li>
                    <li><strong>è‡ªåŠ¨å®Œæˆ</strong> - IDE æ™ºèƒ½æç¤ºæ”¯æŒ</li>
                    <li><strong>é‡æ„å‹å¥½</strong> - ç±»å‹å®‰å…¨çš„ä»£ç é‡æ„</li>
                </ul>
            </div>
            
            <div class="summary-item">
                <h3>ğŸ’¡ æœ€ä½³å®è·µ</h3>
                <ul>
                    <li>ä½¿ç”¨è·¯ç”±å¸¸é‡è€Œä¸æ˜¯ç¡¬ç¼–ç å­—ç¬¦ä¸²</li>
                    <li>åˆ›å»ºè·¯ç”±ç”Ÿæˆå·¥å…·å‡½æ•°</li>
                    <li>å®ç°è·¯ç”±æƒé™æ§åˆ¶ç³»ç»Ÿ</li>
                    <li>æ·»åŠ è·¯ç”±ç›‘æ§å’Œæ—¥å¿—</li>
                </ul>
            </div>
        </div>
        
        <div class="comparison">
            <h3>ğŸ” ApiRoute æ¨¡å¼è§£æ</h3>
            <table class="method-table">
                <thead>
                    <tr>
                        <th>æ¨¡å¼éƒ¨åˆ†</th>
                        <th>è¯´æ˜</th>
                        <th>ç¤ºä¾‹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/api/</code></td>
                        <td>å›ºå®šå‰ç¼€ï¼Œæ ‡è¯† API è·¯ç”±</td>
                        <td>å¿…é¡»ä»¥æ­¤å¼€å¤´</td>
                    </tr>
                    <tr>
                        <td><code>${string}</code> (ç¬¬ä¸€ä¸ª)</td>
                        <td>èµ„æºåç§°ï¼Œä»»ä½•å­—ç¬¦ä¸²</td>
                        <td>users, products, orders</td>
                    </tr>
                    <tr>
                        <td><code>/</code></td>
                        <td>è·¯å¾„åˆ†éš”ç¬¦</td>
                        <td>å›ºå®šæ ¼å¼</td>
                    </tr>
                    <tr>
                        <td><code>${string}</code> (ç¬¬äºŒä¸ª)</td>
                        <td>æ“ä½œåç§°ï¼Œä»»ä½•å­—ç¬¦ä¸²</td>
                        <td>list, create, update, 123</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <table class="method-table">
            <thead>
                <tr>
                    <th>åº”ç”¨åœºæ™¯</th>
                    <th>ä»£ç ç¤ºä¾‹</th>
                    <th>ä¼˜åŠ¿</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>API å®¢æˆ·ç«¯</td>
                    <td><code>apiClient.get("/api/users/list")</code></td>
                    <td>ç±»å‹å®‰å…¨çš„ API è°ƒç”¨</td>
                </tr>
                <tr>
                    <td>è·¯ç”±æƒé™</td>
                    <td><code>guard.canAccess("/api/admin/users")</code></td>
                    <td>ç¼–è¯‘æ—¶æƒé™æ£€æŸ¥</td>
                </tr>
                <tr>
                    <td>è·¯ç”±ç”Ÿæˆ</td>
                    <td><code>createRoute("users", "list")</code></td>
                    <td>é¿å…ç¡¬ç¼–ç é”™è¯¯</td>
                </tr>
                <tr>
                    <td>æµ‹è¯•éªŒè¯</td>
                    <td><code>isValidApiRoute(route)</code></td>
                    <td>è‡ªåŠ¨åŒ–è·¯ç”±éªŒè¯</td>
                </tr>
            </tbody>
        </table>
    </section>
    
    <footer>
        <p>TypeScript ApiRoute æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹è¯¦è§£ &copy; 2023 | æ„å»ºç±»å‹å®‰å…¨çš„ API è·¯ç”±ç³»ç»Ÿ</p>
    </footer>

    <script>
        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œç¤ºä¾‹ä»£ç 
        document.addEventListener('DOMContentLoaded', function() {
            executeExamples();
        });
        
        function executeExamples() {
            // ç¤ºä¾‹1: åŸºæœ¬ç±»å‹å®šä¹‰ä¸ä½¿ç”¨
            try {
                const validRoutes = {
                    users: "/api/users/list",
                    products: "/api/products/123",
                    orders: "/api/orders/detail",
                    categories: "/api/categories/update"
                };

                function createApiRequest(route, method = "GET") {
                    return {
                        url: route,
                        method,
                        timestamp: new Date().toISOString()
                    };
                }

                const userRequest = createApiRequest("/api/users/list", "GET");
                const productRequest = createApiRequest("/api/products/456", "POST");

                let output = "åŸºç¡€ ApiRoute ä½¿ç”¨ç¤ºä¾‹:\n";
                output += "ç”¨æˆ·è¯·æ±‚: " + JSON.stringify(userRequest, null, 2) + "\n";
                output += "å•†å“è¯·æ±‚: " + JSON.stringify(productRequest, null, 2) + "\n";

                function processRoute(route) {
                    const segments = route.split('/').filter(segment => segment.length > 0);
                    return { route, segments };
                }

                const processed = processRoute("/api/orders/status");
                output += "è·¯ç”±å¤„ç†: " + JSON.stringify(processed, null, 2);

                document.getElementById('output1').textContent = output;
            } catch (e) {
                document.getElementById('output1').textContent = "é”™è¯¯: " + e.message;
            }

            // ç¤ºä¾‹2: æ‰©å±•çš„ API è·¯ç”±ç±»å‹
            try {
                function createUserEndpoint(route) {
                    console.log(`åˆ›å»ºç”¨æˆ·ç«¯ç‚¹: ${route}`);
                    return route;
                }

                function createProductEndpoint(route) {
                    console.log(`åˆ›å»ºå•†å“ç«¯ç‚¹: ${route}`);
                    return route;
                }

                const userProfile = createUserEndpoint("/api/users/profile");
                const userSettings = createUserEndpoint("/api/users/settings");
                const productDetail = createProductEndpoint("/api/products/detail");
                const productSearch = createProductEndpoint("/api/products/search");

                let output = "æ‰©å±•è·¯ç”±ç±»å‹ç¤ºä¾‹:\n";
                output += "ç”¨æˆ·é…ç½®: " + userSettings + "\n";
                output += "å•†å“æœç´¢: " + productSearch + "\n";

                class ApiRouteFactory {
                    static createUserRoute(action) {
                        return `/api/users/${action}`;
                    }
                    
                    static createProductRoute(action) {
                        return `/api/products/${action}`;
                    }
                    
                    static createOrderRoute(action) {
                        return `/api/orders/${action}`;
                    }
                }

                const userList = ApiRouteFactory.createUserRoute("list");
                const productCreate = ApiRouteFactory.createProductRoute("create");
                const orderUpdate = ApiRouteFactory.createOrderRoute("update");

                output += "è·¯ç”±å·¥å‚åˆ›å»º:\n";
                output += "ç”¨æˆ·åˆ—è¡¨: " + userList + "\n";
                output += "å•†å“åˆ›å»º: " + productCreate + "\n";
                output += "è®¢å•æ›´æ–°: " + orderUpdate;

                document.getElementById('output2').textContent = output;
            } catch (e) {
                document.getElementById('output2').textContent = "é”™è¯¯: " + e.message;
            }

            // å…¶ä»–ç¤ºä¾‹çš„å®ç°...
        }
        
        function executeUserCode() {
            var userCode = document.getElementById('userCode').value;
            var outputArea = document.getElementById('userOutput');
            
            try {
                var logMessages = [];
                var originalLog = console.log;
                console.log = function(message) {
                    logMessages.push(message);
                    originalLog.apply(console, arguments);
                };
                
                eval(userCode);
                
                console.log = originalLog;
                
                outputArea.textContent = logMessages.join('\n') || "ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰è¾“å‡ºã€‚";
                outputArea.style.color = '#e2e8f0';
            } catch (error) {
                outputArea.textContent = "é”™è¯¯: " + error.message;
                outputArea.style.color = '#ef4444';
            }
        }
    </script>
</body>
</html>