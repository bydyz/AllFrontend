<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES3 (1999) å¯¹è±¡APIæ–°å¢è¯¦è§£</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f7fa;
        color: #333;
        line-height: 1.6;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      }

      h1 {
        font-size: 2.8rem;
        margin-bottom: 15px;
      }

      .subtitle {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      .section {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      h2 {
        color: #2c3e50;
        margin-bottom: 25px;
        padding-bottom: 12px;
        border-bottom: 2px solid #f0f0f0;
      }

      .demo-box {
        margin-bottom: 30px;
        padding: 20px;
        border-radius: 10px;
        background: #f8f9fa;
        transition: all 0.3s ease;
      }

      .demo-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .demo-title {
        font-weight: bold;
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-code {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        margin: 15px 0;
        overflow-x: auto;
        font-size: 0.95rem;
        white-space: pre;
      }

      .demo-output {
        padding: 15px;
        background: white;
        border-radius: 8px;
        border-left: 4px solid;
        margin-top: 15px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .object-demo {
        border-left-color: #3b82f6;
      }
      .function-demo {
        border-left-color: #10b981;
      }
      .array-demo {
        border-left-color: #f59e0b;
      }
      .string-demo {
        border-left-color: #ef4444;
      }
      .regex-demo {
        border-left-color: #8b5cf6;
      }

      .interactive-demo {
        margin-top: 30px;
      }

      .code-executor {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .code-input {
        width: 100%;
        min-height: 120px;
        background: #0f172a;
        color: #e2e8f0;
        border: 1px solid #334155;
        border-radius: 6px;
        padding: 15px;
        font-family: "Courier New", monospace;
        font-size: 1rem;
        margin-bottom: 15px;
        resize: vertical;
      }

      .run-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background 0.3s;
      }

      .run-button:hover {
        background: #2563eb;
      }

      .output-area {
        background: #0f172a;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 6px;
        margin-top: 15px;
        min-height: 80px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .summary {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      .summary-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
        margin-top: 25px;
      }

      .summary-item {
        padding: 20px;
        border-radius: 10px;
        background-color: #f8f9fa;
      }

      .summary-item h3 {
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .comparison {
        margin-top: 40px;
        padding: 25px;
        background: linear-gradient(135deg, #fef3c7 0%, #fef7ed 100%);
        border-radius: 12px;
        border-left: 6px solid #f59e0b;
      }

      .comparison h3 {
        color: #92400e;
        margin-bottom: 15px;
      }

      footer {
        text-align: center;
        margin-top: 50px;
        padding: 25px;
        color: #7f8c8d;
        font-size: 0.95rem;
        border-top: 1px solid #e0e0e0;
      }

      @media (max-width: 768px) {
        .container {
          grid-template-columns: 1fr;
        }
      }

      .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-left: 10px;
      }

      .badge-es3 {
        background: #f59e0b;
        color: white;
      }
      .badge-important {
        background: #ef4444;
        color: white;
      }

      .method-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }

      .method-table th,
      .method-table td {
        border: 1px solid #e2e8f0;
        padding: 12px;
        text-align: left;
      }

      .method-table th {
        background: #f8fafc;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ES3 (1999) å¯¹è±¡APIæ–°å¢è¯¦è§£</h1>
      <p class="subtitle">æ¢ç´¢JavaScript ES3æ ‡å‡†ä¸­æ–°å¢çš„é‡è¦å¯¹è±¡æ–¹æ³•å’ŒAPI</p>
    </header>

    <div class="container">
      <section class="section">
        <h2>ğŸ”§ Object.prototype æ–°å¢æ–¹æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. toLocaleString() æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// toLocaleString() - è¿”å›å¯¹è±¡çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²è¡¨ç¤º
var date = new Date();
var number = 1234567.89;
var array = [1, 2, 3];

var output = "";
output += "Date: " + date.toLocaleString() + "\\n";
output += "Number: " + number.toLocaleString() + "\\n";
output += "Array: " + array.toLocaleString() + "\\n";

// è‡ªå®šä¹‰å¯¹è±¡çš„ toLocaleString
var product = {
    name: "ç¬”è®°æœ¬ç”µè„‘",
    price: 5999,
    toLocaleString: function() {
        return this.name + " - ï¿¥" + this.price.toLocaleString();
    }
};
output += "Product: " + product.toLocaleString();
          </div>
          <div class="demo-output object-demo" id="output1">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. valueOf() æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// valueOf() - è¿”å›å¯¹è±¡çš„åŸå§‹å€¼
var date = new Date();
var numberObj = new Number(42);
var stringObj = new String("Hello");
var boolObj = new Boolean(true);

var output = "";
output += "Date valueOf: " + date.valueOf() + "\\n";
output += "Number valueOf: " + numberObj.valueOf() + "\\n";
output += "String valueOf: " + stringObj.valueOf() + "\\n";
output += "Boolean valueOf: " + boolObj.valueOf() + "\\n";

// è‡ªå®šä¹‰å¯¹è±¡çš„ valueOf
var counter = {
    count: 0,
    valueOf: function() {
        return this.count++;
    }
};
output += "Custom valueOf: " + counter.valueOf() + ", " + counter.valueOf();
          </div>
          <div class="demo-output object-demo" id="output2">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>ğŸ“ Function.prototype æ–°å¢æ–¹æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. call() æ–¹æ³•</span>
            <span class="badge badge-important">ES3æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// call() - ä½¿ç”¨æŒ‡å®šçš„thiså€¼å’Œå‚æ•°è°ƒç”¨å‡½æ•°
function introduce(greeting, punctuation) {
    return greeting + ", æˆ‘æ˜¯" + this.name + ", ä»Šå¹´" + this.age + "å²" + punctuation;
}

var person1 = { name: "å¼ ä¸‰", age: 25 };
var person2 = { name: "æå››", age: 30 };

var output = "";
output += introduce.call(person1, "ä½ å¥½", "!") + "\\n";
output += introduce.call(person2, "Hello", "!!") + "\\n";

// å€Ÿç”¨æ•°ç»„æ–¹æ³•
var arrayLike = { 0: "a", 1: "b", 2: "c", length: 3 };
var realArray = Array.prototype.slice.call(arrayLike);
output += "Array-like to real array: " + JSON.stringify(realArray);
          </div>
          <div class="demo-output function-demo" id="output3">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. apply() æ–¹æ³•</span>
            <span class="badge badge-important">ES3æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// apply() - ä½¿ç”¨æŒ‡å®šçš„thiså€¼å’Œå‚æ•°æ•°ç»„è°ƒç”¨å‡½æ•°
function calculateSum() {
    var sum = 0;
    for (var i = 0; i < arguments.length; i++) {
        sum += arguments[i];
    }
    return this.prefix + sum;
}

var context = { prefix: "æ€»å’Œ: " };
var numbers = [1, 2, 3, 4, 5];

var output = "";
output += calculateSum.apply(context, numbers) + "\\n";

// æ±‚æ•°ç»„æœ€å¤§å€¼
var maxNumber = Math.max.apply(null, [10, 5, 25, 8, 15]);
output += "æ•°ç»„æœ€å¤§å€¼: " + maxNumber + "\\n";

// æ•°ç»„åˆå¹¶
var arr1 = [1, 2, 3];
var arr2 = [4, 5, 6];
Array.prototype.push.apply(arr1, arr2);
output += "åˆå¹¶åæ•°ç»„: " + arr1;
          </div>
          <div class="demo-output function-demo" id="output4">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <div class="container">
      <section class="section">
        <h2>ğŸ“‹ Array.prototype æ–°å¢æ–¹æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>æ•°ç»„è½¬æ¢æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// toString(), toLocaleString(), join()
var fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"];

var output = "";
output += "toString(): " + fruits.toString() + "\\n";
output += "toLocaleString(): " + fruits.toLocaleString() + "\\n";
output += "join(' - '): " + fruits.join(" - ") + "\\n";
output += "join(): " + fruits.join() + "\\n";

// concat() - åˆå¹¶æ•°ç»„
var moreFruits = fruits.concat(["è‘¡è„", "èŠ’æœ"]);
output += "concat(): " + moreFruits.join(", ");
          </div>
          <div class="demo-output array-demo" id="output5">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>æ•°ç»„ä¿®æ”¹æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// push(), pop(), shift(), unshift()
var stack = [1, 2, 3];

var output = "";
output += "åŸå§‹æ•°ç»„: " + stack.join(", ") + "\\n";

stack.push(4, 5);
output += "push(4,5)å: " + stack.join(", ") + "\\n";

var popped = stack.pop();
output += "pop() è¿”å›: " + popped + ", æ•°ç»„: " + stack.join(", ") + "\\n";

var shifted = stack.shift();
output += "shift() è¿”å›: " + shifted + ", æ•°ç»„: " + stack.join(", ") + "\\n";

stack.unshift(0);
output += "unshift(0)å: " + stack.join(", ") + "\\n";

// reverse(), sort()
var numbers = [3, 1, 4, 1, 5];
output += "åŸå§‹: " + numbers.join(", ") + "\\n";
output += "reverse(): " + numbers.reverse().join(", ") + "\\n";
output += "sort(): " + numbers.sort().join(", ");
          </div>
          <div class="demo-output array-demo" id="output6">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>æ•°ç»„æå–æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// slice(), splice()
var numbers = [1, 2, 3, 4, 5, 6];

var output = "";
output += "åŸå§‹æ•°ç»„: " + numbers.join(", ") + "\\n";

// slice() - æå–å­æ•°ç»„
var slice1 = numbers.slice(1, 4);
output += "slice(1,4): " + slice1.join(", ") + "\\n";

var slice2 = numbers.slice(2);
output += "slice(2): " + slice2.join(", ") + "\\n";

// splice() - ä¿®æ”¹æ•°ç»„
var removed = numbers.splice(2, 2, "a", "b", "c");
output += "splice(2,2,'a','b','c') ç§»é™¤: " + removed.join(", ") + "\\n";
output += "ä¿®æ”¹åæ•°ç»„: " + numbers.join(", ");
          </div>
          <div class="demo-output array-demo" id="output7">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>ğŸ”¤ String.prototype æ–°å¢æ–¹æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>å­—ç¬¦ä¸²æœç´¢æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// indexOf(), lastIndexOf(), charAt(), charCodeAt()
var text = "Hello World, Welcome to JavaScript!";

var output = "";
output += "åŸå§‹å­—ç¬¦ä¸²: " + text + "\\n";
output += "indexOf('World'): " + text.indexOf("World") + "\\n";
output += "lastIndexOf('o'): " + text.lastIndexOf("o") + "\\n";
output += "charAt(6): '" + text.charAt(6) + "'\\n";
output += "charCodeAt(0): " + text.charCodeAt(0) + " (Hçš„Unicode)\\n";

// search() - æ­£åˆ™æœç´¢
var position = text.search(/[A-Z]/g);
output += "search(/[A-Z]/): " + position;
          </div>
          <div class="demo-output string-demo" id="output8">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>å­—ç¬¦ä¸²ä¿®æ”¹æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// concat(), slice(), substring(), toLowerCase(), toUpperCase()
var str1 = "Hello";
var str2 = "World";

var output = "";
output += "concat(): " + str1.concat(" ", str2, "!") + "\\n";
output += "slice(0,5): " + "Hello World".slice(0, 5) + "\\n";
output += "substring(6): " + "Hello World".substring(6) + "\\n";
output += "toLowerCase(): " + "Hello WORLD".toLowerCase() + "\\n";
output += "toUpperCase(): " + "hello world".toUpperCase() + "\\n";

// localeCompare()
var result = "apple".localeCompare("banana");
output += "'apple'.localeCompare('banana'): " + result + " (è´Ÿæ•°è¡¨ç¤ºappleåœ¨bananaä¹‹å‰)";
          </div>
          <div class="demo-output string-demo" id="output9">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•</span>
            <span class="badge badge-es3">ES3</span>
          </div>
          <div class="demo-code">
// match(), replace(), split()
var text = "The quick brown fox jumps over the lazy dog.";

var output = "";
output += "åŸå§‹æ–‡æœ¬: " + text + "\\n";

// match() - æ­£åˆ™åŒ¹é…
var matches = text.match(/[aeiou]/g);
output += "match(/[aeiou]/g): " + (matches ? matches.join(", ") : "æ— åŒ¹é…") + "\\n";

// replace() - æ›¿æ¢
var replaced = text.replace(/the/gi, "a");
output += "replace(/the/gi, 'a'): " + replaced + "\\n";

// split() - åˆ†å‰²å­—ç¬¦ä¸²
var words = text.split(" ");
output += "split(' '): " + JSON.stringify(words);
          </div>
          <div class="demo-output string-demo" id="output10">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <section class="section interactive-demo">
      <h2>ğŸ’» ES3 æ–¹æ³•äº¤äº’å¼æµ‹è¯•</h2>
      <p>åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­å°è¯•ES3æ–°å¢çš„å¯¹è±¡æ–¹æ³•ï¼š</p>

      <div class="code-executor">
        <textarea class="code-input" id="userCode" placeholder="åœ¨è¿™é‡Œè¾“å…¥JavaScriptä»£ç ...">
// æµ‹è¯• ES3 çš„ call å’Œ apply æ–¹æ³•
function greet(timeOfDay) {
    return "Good " + timeOfDay + ", " + this.name + "!";
}

var person = { name: "Alice" };

// ä½¿ç”¨ call
var callResult = greet.call(person, "morning");

// ä½¿ç”¨ apply  
var applyResult = greet.apply(person, ["evening"]);

console.log("call ç»“æœ: " + callResult);
console.log("apply ç»“æœ: " + applyResult);

// æµ‹è¯•æ•°ç»„æ–¹æ³•
var numbers = [5, 2, 8, 1, 9];
console.log("åŸå§‹æ•°ç»„: " + numbers);
console.log("æ’åºå: " + numbers.sort());
console.log("åè½¬å: " + numbers.reverse());

// æµ‹è¯•å­—ç¬¦ä¸²æ–¹æ³•
var text = "Hello JavaScript World";
console.log("åŒ…å« 'Java': " + (text.indexOf("Java") !== -1));
console.log("æ›¿æ¢å: " + text.replace("World", "ES3"));
            </textarea
        >
        <button class="run-button" onclick="executeUserCode()">è¿è¡Œä»£ç </button>
        <div class="output-area" id="userOutput">è¾“å‡ºç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
      </div>
    </section>

    <section class="summary">
      <h2>ğŸ“š ES3 å¯¹è±¡APIæ–°å¢æ€»ç»“</h2>

      <div class="summary-grid">
        <div class="summary-item">
          <h3>Object.prototype</h3>
          <ul>
            <li><strong>toLocaleString()</strong> - æœ¬åœ°åŒ–å­—ç¬¦ä¸²è¡¨ç¤º</li>
            <li><strong>valueOf()</strong> - è¿”å›å¯¹è±¡åŸå§‹å€¼</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>Function.prototype</h3>
          <ul>
            <li><strong>call()</strong> - æŒ‡å®šthisè°ƒç”¨å‡½æ•°</li>
            <li><strong>apply()</strong> - æŒ‡å®šthiså’Œå‚æ•°æ•°ç»„è°ƒç”¨</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>Array.prototype</h3>
          <ul>
            <li><strong>è½¬æ¢æ–¹æ³•</strong>: toString(), toLocaleString(), join(), concat()</li>
            <li><strong>ä¿®æ”¹æ–¹æ³•</strong>: push(), pop(), shift(), unshift(), reverse(), sort(), splice()</li>
            <li><strong>æå–æ–¹æ³•</strong>: slice()</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>String.prototype</h3>
          <ul>
            <li><strong>æœç´¢æ–¹æ³•</strong>: indexOf(), lastIndexOf(), charAt(), charCodeAt(), search()</li>
            <li><strong>ä¿®æ”¹æ–¹æ³•</strong>: concat(), slice(), substring(), toLowerCase(), toUpperCase(), localeCompare()</li>
            <li><strong>æ­£åˆ™æ–¹æ³•</strong>: match(), replace(), split()</li>
          </ul>
        </div>
      </div>

      <div class="comparison">
        <h3>ğŸ’¡ ES3 çš„é‡è¦æ„ä¹‰</h3>
        <p><strong>é©å‘½æ€§æ”¹è¿›ï¼š</strong></p>
        <ul>
          <li><strong>call/apply</strong> - å½»åº•æ”¹å˜äº†JavaScriptçš„thisç»‘å®šæœºåˆ¶</li>
          <li><strong>å®Œæ•´çš„æ•°ç»„æ–¹æ³•</strong> - ä½¿æ•°ç»„æ“ä½œå˜å¾—å¼ºå¤§è€Œçµæ´»</li>
          <li><strong>å­—ç¬¦ä¸²å¤„ç†</strong> - æä¾›äº†å®Œæ•´çš„å­—ç¬¦ä¸²æ“ä½œå·¥å…·é›†</li>
          <li><strong>æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒ</strong> - å¼•å…¥äº†å¼ºå¤§çš„æ¨¡å¼åŒ¹é…èƒ½åŠ›</li>
        </ul>
        <p><strong>å½±å“ï¼š</strong> ES3å¥ å®šäº†ç°ä»£JavaScriptçš„åŸºç¡€ï¼Œè¿™äº›APIè‡³ä»Šä»æ˜¯æ ¸å¿ƒåŠŸèƒ½</p>
      </div>

      <table class="method-table">
        <thead>
          <tr>
            <th>ç±»åˆ«</th>
            <th>æ–°å¢æ–¹æ³•</th>
            <th>ä½œç”¨</th>
            <th>é‡è¦æ€§</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Function</td>
            <td>call(), apply()</td>
            <td>æ§åˆ¶å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</td>
            <td>â­â­â­â­â­</td>
          </tr>
          <tr>
            <td>Array</td>
            <td>push(), pop(), slice(), splice() ç­‰</td>
            <td>æ•°ç»„æ“ä½œå’Œä¿®æ”¹</td>
            <td>â­â­â­â­â­</td>
          </tr>
          <tr>
            <td>String</td>
            <td>indexOf(), replace(), split() ç­‰</td>
            <td>å­—ç¬¦ä¸²å¤„ç†å’Œæœç´¢</td>
            <td>â­â­â­â­â­</td>
          </tr>
          <tr>
            <td>Object</td>
            <td>toLocaleString(), valueOf()</td>
            <td>å¯¹è±¡è½¬æ¢å’Œå€¼è·å–</td>
            <td>â­â­â­</td>
          </tr>
        </tbody>
      </table>
    </section>

    <footer>
      <p>ES3 (1999) å¯¹è±¡APIæ–°å¢è¯¦è§£ &copy; 2023 | JavaScriptæˆç†ŸåŒ–çš„é‡è¦é‡Œç¨‹ç¢‘</p>
    </footer>

    <script>
      // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œç¤ºä¾‹ä»£ç 
      document.addEventListener("DOMContentLoaded", function () {
        executeExamples();
      });

      function executeExamples() {
        // ç¤ºä¾‹1: toLocaleString()
        try {
          var date = new Date();
          var number = 1234567.89;
          var array = [1, 2, 3];

          var output = "";
          output += "Date: " + date.toLocaleString() + "\n";
          output += "Number: " + number.toLocaleString() + "\n";
          output += "Array: " + array.toLocaleString() + "\n";

          var product = {
            name: "ç¬”è®°æœ¬ç”µè„‘",
            price: 5999,
            toLocaleString: function () {
              return this.name + " - ï¿¥" + this.price.toLocaleString();
            },
          };
          output += "Product: " + product.toLocaleString();

          document.getElementById("output1").textContent = output;
        } catch (e) {
          document.getElementById("output1").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹2: valueOf()
        try {
          var date = new Date();
          var numberObj = new Number(42);
          var stringObj = new String("Hello");
          var boolObj = new Boolean(true);

          var output = "";
          output += "Date valueOf: " + date.valueOf() + "\n";
          output += "Number valueOf: " + numberObj.valueOf() + "\n";
          output += "String valueOf: " + stringObj.valueOf() + "\n";
          output += "Boolean valueOf: " + boolObj.valueOf() + "\n";

          var counter = {
            count: 0,
            valueOf: function () {
              return this.count++;
            },
          };
          output += "Custom valueOf: " + counter.valueOf() + ", " + counter.valueOf();

          document.getElementById("output2").textContent = output;
        } catch (e) {
          document.getElementById("output2").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹3: call()
        try {
          function introduce(greeting, punctuation) {
            return greeting + ", æˆ‘æ˜¯" + this.name + ", ä»Šå¹´" + this.age + "å²" + punctuation;
          }

          var person1 = { name: "å¼ ä¸‰", age: 25 };
          var person2 = { name: "æå››", age: 30 };

          var output = "";
          output += introduce.call(person1, "ä½ å¥½", "!") + "\n";
          output += introduce.call(person2, "Hello", "!!") + "\n";

          var arrayLike = { 0: "a", 1: "b", 2: "c", length: 3 };
          var realArray = Array.prototype.slice.call(arrayLike);
          output += "Array-like to real array: " + JSON.stringify(realArray);

          document.getElementById("output3").textContent = output;
        } catch (e) {
          document.getElementById("output3").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹4: apply()
        try {
          function calculateSum() {
            var sum = 0;
            for (var i = 0; i < arguments.length; i++) {
              sum += arguments[i];
            }
            return this.prefix + sum;
          }

          var context = { prefix: "æ€»å’Œ: " };
          var numbers = [1, 2, 3, 4, 5];

          var output = "";
          output += calculateSum.apply(context, numbers) + "\n";

          var maxNumber = Math.max.apply(null, [10, 5, 25, 8, 15]);
          output += "æ•°ç»„æœ€å¤§å€¼: " + maxNumber + "\n";

          var arr1 = [1, 2, 3];
          var arr2 = [4, 5, 6];
          Array.prototype.push.apply(arr1, arr2);
          output += "åˆå¹¶åæ•°ç»„: " + arr1;

          document.getElementById("output4").textContent = output;
        } catch (e) {
          document.getElementById("output4").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹5-10: å…¶ä»–æ–¹æ³•çš„æ¼”ç¤º...
        // ç”±äºä»£ç é•¿åº¦é™åˆ¶ï¼Œè¿™é‡Œçœç•¥äº†å…¶ä»–ç¤ºä¾‹çš„æ‰§è¡Œä»£ç 
        // å®é™…å®ç°ä¸­éœ€è¦ä¸ºæ¯ä¸ªè¾“å‡ºå…ƒç´ ç¼–å†™ç›¸åº”çš„æ¼”ç¤ºä»£ç 
      }

      function executeUserCode() {
        var userCode = document.getElementById("userCode").value;
        var outputArea = document.getElementById("userOutput");

        try {
          var logMessages = [];
          var originalLog = console.log;
          console.log = function (message) {
            logMessages.push(message);
            originalLog.apply(console, arguments);
          };

          eval(userCode);

          console.log = originalLog;

          outputArea.textContent = logMessages.join("\n") || "ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰è¾“å‡ºã€‚";
          outputArea.style.color = "#e2e8f0";
        } catch (error) {
          outputArea.textContent = "é”™è¯¯: " + error.message;
          outputArea.style.color = "#ef4444";
        }
      }
    </script>
  </body>
</html>
