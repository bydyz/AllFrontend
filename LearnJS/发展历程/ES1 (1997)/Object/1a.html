<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES1 (1997) å¯¹è±¡APIä¸åŸå‹ä½¿ç”¨è¯¦è§£</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f7fa;
        color: #333;
        line-height: 1.6;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      }

      h1 {
        font-size: 2.8rem;
        margin-bottom: 15px;
      }

      .subtitle {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      .section {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      h2 {
        color: #2c3e50;
        margin-bottom: 25px;
        padding-bottom: 12px;
        border-bottom: 2px solid #f0f0f0;
        display: flex;
        align-items: center;
      }

      h2 i {
        margin-right: 10px;
        font-size: 1.5em;
      }

      .demo-box {
        margin-bottom: 30px;
        padding: 20px;
        border-radius: 10px;
        background: #f8f9fa;
        transition: all 0.3s ease;
      }

      .demo-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .demo-title {
        font-weight: bold;
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-code {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        margin: 15px 0;
        overflow-x: auto;
        font-size: 0.95rem;
        white-space: pre;
      }

      .demo-output {
        padding: 15px;
        background: white;
        border-radius: 8px;
        border-left: 4px solid;
        margin-top: 15px;
        font-family: "Courier New", monospace;
      }

      .object-demo {
        border-left-color: #3b82f6;
      }
      .prototype-demo {
        border-left-color: #10b981;
      }
      .constructor-demo {
        border-left-color: #f59e0b;
      }
      .inheritance-demo {
        border-left-color: #ef4444;
      }

      .interactive-demo {
        margin-top: 30px;
      }

      .code-executor {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .code-input {
        width: 100%;
        min-height: 120px;
        background: #0f172a;
        color: #e2e8f0;
        border: 1px solid #334155;
        border-radius: 6px;
        padding: 15px;
        font-family: "Courier New", monospace;
        font-size: 1rem;
        margin-bottom: 15px;
        resize: vertical;
      }

      .run-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background 0.3s;
      }

      .run-button:hover {
        background: #2563eb;
      }

      .output-area {
        background: #0f172a;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 6px;
        margin-top: 15px;
        min-height: 80px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .summary {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      .summary-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
        margin-top: 25px;
      }

      .summary-item {
        padding: 20px;
        border-radius: 10px;
        background-color: #f8f9fa;
      }

      .summary-item h3 {
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .comparison {
        margin-top: 40px;
        padding: 25px;
        background: linear-gradient(135deg, #fef3c7 0%, #fef7ed 100%);
        border-radius: 12px;
        border-left: 6px solid #f59e0b;
      }

      .comparison h3 {
        color: #92400e;
        margin-bottom: 15px;
      }

      footer {
        text-align: center;
        margin-top: 50px;
        padding: 25px;
        color: #7f8c8d;
        font-size: 0.95rem;
        border-top: 1px solid #e0e0e0;
      }

      @media (max-width: 768px) {
        .container {
          grid-template-columns: 1fr;
        }
      }

      .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-left: 10px;
      }

      .badge-es1 {
        background: #3b82f6;
        color: white;
      }
      .badge-important {
        background: #ef4444;
        color: white;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ES1 (1997) å¯¹è±¡APIä¸åŸå‹ä½¿ç”¨è¯¦è§£</h1>
      <p class="subtitle">æ¢ç´¢JavaScriptæœ€åˆç‰ˆæœ¬ä¸­çš„å¯¹è±¡ç³»ç»Ÿå’ŒåŸå‹ç»§æ‰¿æœºåˆ¶</p>
    </header>

    <div class="container">
      <section class="section">
        <h2>ğŸ—ï¸ å¯¹è±¡åˆ›å»ºä¸å±æ€§æ“ä½œ</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. å¯¹è±¡å­—é¢é‡åˆ›å»º</span>
            <span class="badge badge-es1">ES1</span>
          </div>
          <div class="demo-code">
// ES1 å¯¹è±¡å­—é¢é‡è¯­æ³•
var person = {
    name: "å¼ ä¸‰",
    age: 25,
    job: "å·¥ç¨‹å¸ˆ",
    
    // æ–¹æ³•å®šä¹‰
    introduce: function() {
        return "æˆ‘å«" + this.name + "ï¼Œä»Šå¹´" + this.age + "å²ï¼Œæ˜¯ä¸€å" + this.job;
    }
};
          </div>
          <div class="demo-output object-demo" id="output1">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. å±æ€§è®¿é—®ä¸æ“ä½œ</span>
            <span class="badge badge-es1">ES1</span>
          </div>
          <div class="demo-code">
// ç‚¹è¡¨ç¤ºæ³•è®¿é—®å±æ€§
var name = person.name;

// æ–¹æ‹¬å·è¡¨ç¤ºæ³•è®¿é—®å±æ€§
var age = person["age"];

// åŠ¨æ€æ·»åŠ å±æ€§
person.email = "zhangsan@example.com";

// åˆ é™¤å±æ€§
delete person.job;

// æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨
var hasEmail = "email" in person;
          </div>
          <div class="demo-output object-demo" id="output2">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>3. å¯¹è±¡æšä¸¾ä¸è¿­ä»£</span>
            <span class="badge badge-es1">ES1</span>
          </div>
          <div class="demo-code">
// for...in å¾ªç¯æšä¸¾å±æ€§
var output = "personå¯¹è±¡çš„å±æ€§ï¼š\\n";
for (var prop in person) {
    if (person.hasOwnProperty(prop)) {
        output += prop + ": " + person[prop] + "\\n";
    }
}

// æ£€æŸ¥å¯¹è±¡å±æ€§æ•°é‡
var count = 0;
for (var key in person) {
    if (person.hasOwnProperty(key)) {
        count++;
    }
}
output += "\\nå±æ€§æ€»æ•°: " + count;
          </div>
          <div class="demo-output object-demo" id="output3">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>ğŸ”— åŸå‹ç³»ç»Ÿä¸ç»§æ‰¿</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. æ„é€ å‡½æ•°ä¸åŸå‹</span>
            <span class="badge badge-important">æ ¸å¿ƒæ¦‚å¿µ</span>
          </div>
          <div class="demo-code">
// æ„é€ å‡½æ•°
function Person(name, age) {
    this.name = name;
    this.age = age;
}

// åœ¨åŸå‹ä¸Šæ·»åŠ æ–¹æ³•
Person.prototype.introduce = function() {
    return "æˆ‘å«" + this.name + "ï¼Œä»Šå¹´" + this.age + "å²";
};

// åˆ›å»ºå®ä¾‹
var person1 = new Person("æå››", 30);
var person2 = new Person("ç‹äº”", 28);
          </div>
          <div class="demo-output prototype-demo" id="output4">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. åŸå‹é“¾ç»§æ‰¿</span>
            <span class="badge badge-important">æ ¸å¿ƒæ¦‚å¿µ</span>
          </div>
          <div class="demo-code">
// å­ç±»æ„é€ å‡½æ•°
function Employee(name, age, job) {
    // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
    Person.call(this, name, age);
    this.job = job;
}

// è®¾ç½®åŸå‹é“¾
Employee.prototype = Object.create(Person.prototype);
Employee.prototype.constructor = Employee;

// å­ç±»ç‰¹æœ‰æ–¹æ³•
Employee.prototype.work = function() {
    return this.name + "æ­£åœ¨ä»äº‹" + this.job + "å·¥ä½œ";
};

var employee = new Employee("èµµå…­", 35, "ç»ç†");
          </div>
          <div class="demo-output inheritance-demo" id="output5">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>3. åŸå‹ç›¸å…³æ–¹æ³•</span>
            <span class="badge badge-es1">ES1</span>
          </div>
          <div class="demo-code">
// instanceof æ“ä½œç¬¦
var isPerson = employee instanceof Person;
var isEmployee = employee instanceof Employee;

// constructor å±æ€§
var constructorName = employee.constructor.name;

// åŸå‹æ£€æŸ¥
var proto = Object.getPrototypeOf(employee);
var hasIntroduce = "introduce" in employee;

// åŸå‹é“¾éå†
var protoChain = [];
var current = employee;
while (current) {
    protoChain.push(current.constructor.name);
    current = Object.getPrototypeOf(current);
}
          </div>
          <div class="demo-output prototype-demo" id="output6">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <section class="section interactive-demo">
      <h2>ğŸ’» äº¤äº’å¼ä»£ç æ‰§è¡Œå™¨</h2>
      <p>åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­å°è¯•ES1å¯¹è±¡å’ŒåŸå‹ç›¸å…³çš„ä»£ç ï¼š</p>

      <div class="code-executor">
        <textarea class="code-input" id="userCode" placeholder="åœ¨è¿™é‡Œè¾“å…¥JavaScriptä»£ç ...">
// ç¤ºä¾‹ï¼šåˆ›å»ºå¯¹è±¡å’Œæ“ä½œåŸå‹
function Animal(name) {
    this.name = name;
}

Animal.prototype.speak = function() {
    return this.name + " å‘å‡ºå£°éŸ³";
};

function Dog(name, breed) {
    Animal.call(this, name);
    this.breed = breed;
}

Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

Dog.prototype.bark = function() {
    return this.name + " æ±ªæ±ªå«ï¼";
};

var myDog = new Dog("å°é»‘", "æ‹‰å¸ƒæ‹‰å¤š");
console.log(myDog.speak());
console.log(myDog.bark());
console.log("åŸå‹é“¾: " + (myDog instanceof Dog) + ", " + (myDog instanceof Animal));
            </textarea
        >
        <button class="run-button" onclick="executeUserCode()">è¿è¡Œä»£ç </button>
        <div class="output-area" id="userOutput">è¾“å‡ºç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
      </div>
    </section>

    <section class="summary">
      <h2>ğŸ“š ES1 å¯¹è±¡ä¸åŸå‹æ ¸å¿ƒæ¦‚å¿µ</h2>

      <div class="summary-grid">
        <div class="summary-item">
          <h3>å¯¹è±¡åˆ›å»ºæ–¹å¼</h3>
          <ul>
            <li><strong>å¯¹è±¡å­—é¢é‡</strong>: <code>{ key: value }</code></li>
            <li><strong>æ„é€ å‡½æ•°</strong>: <code>new Object()</code> æˆ–è‡ªå®šä¹‰æ„é€ å‡½æ•°</li>
            <li><strong>Object.create()</strong>: åŸºäºåŸå‹åˆ›å»ºå¯¹è±¡</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>å±æ€§æ“ä½œ</h3>
          <ul>
            <li><strong>è®¿é—®</strong>: <code>obj.key</code> æˆ– <code>obj["key"]</code></li>
            <li><strong>æ·»åŠ </strong>: <code>obj.newKey = value</code></li>
            <li><strong>åˆ é™¤</strong>: <code>delete obj.key</code></li>
            <li><strong>æ£€æŸ¥</strong>: <code>"key" in obj</code></li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>åŸå‹ç³»ç»Ÿ</h3>
          <ul>
            <li><strong>åŸå‹é“¾</strong>: å¯¹è±¡ â†’ æ„é€ å‡½æ•°.prototype â†’ Object.prototype â†’ null</li>
            <li><strong>ç»§æ‰¿</strong>: é€šè¿‡åŸå‹é“¾å®ç°æ–¹æ³•å’Œå±æ€§ç»§æ‰¿</li>
            <li><strong>æ–¹æ³•å…±äº«</strong>: åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>å…³é”®æ–¹æ³•</h3>
          <ul>
            <li><strong>hasOwnProperty()</strong>: æ£€æŸ¥è‡ªæœ‰å±æ€§</li>
            <li><strong>isPrototypeOf()</strong>: æ£€æŸ¥åŸå‹å…³ç³»</li>
            <li><strong>Object.getPrototypeOf()</strong>: è·å–åŸå‹å¯¹è±¡</li>
            <li><strong>instanceof</strong>: æ£€æŸ¥å®ä¾‹å…³ç³»</li>
          </ul>
        </div>
      </div>

      <div class="comparison">
        <h3>ğŸ’¡ ES1 åŸå‹ç»§æ‰¿çš„ç‰¹ç‚¹</h3>
        <p><strong>ä¼˜ç‚¹ï¼š</strong></p>
        <ul>
          <li>æ–¹æ³•åœ¨åŸå‹ä¸Šå®šä¹‰ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«ï¼ŒèŠ‚çœå†…å­˜</li>
          <li>åŠ¨æ€åŸå‹ - å¯ä»¥è¿è¡Œæ—¶ä¿®æ”¹åŸå‹ï¼Œå½±å“æ‰€æœ‰å®ä¾‹</li>
          <li>çµæ´»çš„ç»§æ‰¿æœºåˆ¶</li>
        </ul>
        <p><strong>å±€é™æ€§ï¼š</strong></p>
        <ul>
          <li>æ„é€ å‡½æ•°å’ŒåŸå‹åˆ†ç¦»ï¼Œä»£ç ç»„ç»‡ä¸å¤Ÿç›´è§‚</li>
          <li>åŸå‹é“¾å¯èƒ½å˜å¾—å¤æ‚éš¾ä»¥ç†è§£</li>
          <li>æ²¡æœ‰çœŸæ­£çš„ç±»æ¦‚å¿µï¼ˆç›´åˆ°ES6ï¼‰</li>
        </ul>
      </div>
    </section>

    <footer>
      <p>ES1 (1997) å¯¹è±¡APIä¸åŸå‹ä½¿ç”¨è¯¦è§£ &copy; 2023 | JavaScriptåŸå‹ç»§æ‰¿æ˜¯ç†è§£ç°ä»£æ¡†æ¶çš„åŸºç¡€</p>
    </footer>

    <script>
      // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œç¤ºä¾‹ä»£ç 
      document.addEventListener("DOMContentLoaded", function () {
        executeExamples();
      });

      function executeExamples() {
        // ç¤ºä¾‹1: å¯¹è±¡å­—é¢é‡åˆ›å»º
        try {
          var person = {
            name: "å¼ ä¸‰",
            age: 25,
            job: "å·¥ç¨‹å¸ˆ",
            introduce: function () {
              return "æˆ‘å«" + this.name + "ï¼Œä»Šå¹´" + this.age + "å²ï¼Œæ˜¯ä¸€å" + this.job;
            },
          };
          document.getElementById("output1").textContent = person.introduce();
        } catch (e) {
          document.getElementById("output1").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹2: å±æ€§è®¿é—®ä¸æ“ä½œ
        try {
          var person = { name: "å¼ ä¸‰", age: 25, job: "å·¥ç¨‹å¸ˆ" };
          var output = "";

          output += "å§“å: " + person.name + "\n";
          output += "å¹´é¾„: " + person["age"] + "\n";

          person.email = "zhangsan@example.com";
          output += "é‚®ç®±: " + person.email + "\n";

          delete person.job;
          output += "åˆ é™¤jobå: " + ("job" in person ? "å­˜åœ¨" : "ä¸å­˜åœ¨") + "\n";

          var hasEmail = "email" in person;
          output += "emailå±æ€§å­˜åœ¨: " + hasEmail;

          document.getElementById("output2").textContent = output;
        } catch (e) {
          document.getElementById("output2").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹3: å¯¹è±¡æšä¸¾
        try {
          var person = {
            name: "å¼ ä¸‰",
            age: 25,
            job: "å·¥ç¨‹å¸ˆ",
            introduce: function () {
              return "è‡ªæˆ‘ä»‹ç»";
            },
          };

          var output = "personå¯¹è±¡çš„å±æ€§ï¼š\n";
          for (var prop in person) {
            if (person.hasOwnProperty(prop)) {
              output += prop + ": " + person[prop] + "\n";
            }
          }

          var count = 0;
          for (var key in person) {
            if (person.hasOwnProperty(key)) {
              count++;
            }
          }
          output += "\nå±æ€§æ€»æ•°: " + count;

          document.getElementById("output3").textContent = output;
        } catch (e) {
          document.getElementById("output3").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹4: æ„é€ å‡½æ•°ä¸åŸå‹
        try {
          function Person(name, age) {
            this.name = name;
            this.age = age;
          }

          Person.prototype.introduce = function () {
            return "æˆ‘å«" + this.name + "ï¼Œä»Šå¹´" + this.age + "å²";
          };

          var person1 = new Person("æå››", 30);
          var person2 = new Person("ç‹äº”", 28);

          var output = person1.introduce() + "\n" + person2.introduce();
          document.getElementById("output4").textContent = output;
        } catch (e) {
          document.getElementById("output4").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹5: åŸå‹é“¾ç»§æ‰¿
        try {
          function Person(name, age) {
            this.name = name;
            this.age = age;
          }

          Person.prototype.introduce = function () {
            return "æˆ‘å«" + this.name + "ï¼Œä»Šå¹´" + this.age + "å²";
          };

          function Employee(name, age, job) {
            Person.call(this, name, age);
            this.job = job;
          }

          Employee.prototype = Object.create(Person.prototype);
          Employee.prototype.constructor = Employee;

          Employee.prototype.work = function () {
            return this.name + "æ­£åœ¨ä»äº‹" + this.job + "å·¥ä½œ";
          };

          var employee = new Employee("èµµå…­", 35, "ç»ç†");

          var output = employee.introduce() + "\n" + employee.work();
          document.getElementById("output5").textContent = output;
        } catch (e) {
          document.getElementById("output5").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹6: åŸå‹ç›¸å…³æ–¹æ³•
        try {
          function Person(name, age) {
            this.name = name;
            this.age = age;
          }

          Person.prototype.introduce = function () {
            return "è‡ªæˆ‘ä»‹ç»";
          };

          function Employee(name, age, job) {
            Person.call(this, name, age);
            this.job = job;
          }

          Employee.prototype = Object.create(Person.prototype);
          Employee.prototype.constructor = Employee;

          var employee = new Employee("èµµå…­", 35, "ç»ç†");

          var output = "";
          output += "employee instanceof Person: " + (employee instanceof Person) + "\n";
          output += "employee instanceof Employee: " + (employee instanceof Employee) + "\n";
          output += "æ„é€ å‡½æ•°: " + employee.constructor.name + "\n";
          output += "æ˜¯å¦æœ‰introduceæ–¹æ³•: " + ("introduce" in employee) + "\n";

          var protoChain = [];
          var current = employee;
          while (current) {
            protoChain.push(current.constructor.name);
            current = Object.getPrototypeOf(current);
          }
          output += "åŸå‹é“¾: " + protoChain.join(" â†’ ");

          document.getElementById("output6").textContent = output;
        } catch (e) {
          document.getElementById("output6").textContent = "é”™è¯¯: " + e.message;
        }
      }

      function executeUserCode() {
        var userCode = document.getElementById("userCode").value;
        var outputArea = document.getElementById("userOutput");

        try {
          // é‡å†™console.logæ¥æ•è·è¾“å‡º
          var logMessages = [];
          var originalLog = console.log;
          console.log = function (message) {
            logMessages.push(message);
            originalLog.apply(console, arguments);
          };

          // æ‰§è¡Œç”¨æˆ·ä»£ç 
          eval(userCode);

          // æ¢å¤åŸå§‹console.log
          console.log = originalLog;

          // æ˜¾ç¤ºè¾“å‡º
          outputArea.textContent = logMessages.join("\n") || "ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰è¾“å‡ºã€‚";
          outputArea.style.color = "#e2e8f0";
        } catch (error) {
          outputArea.textContent = "é”™è¯¯: " + error.message;
          outputArea.style.color = "#ef4444";
        }
      }
    </script>
  </body>
</html>
