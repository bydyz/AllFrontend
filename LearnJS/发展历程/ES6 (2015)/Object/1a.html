<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES6 (2015) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f7fa;
        color: #333;
        line-height: 1.6;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
        color: white;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      }

      h1 {
        font-size: 2.8rem;
        margin-bottom: 15px;
      }

      .subtitle {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      .section {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      h2 {
        color: #2c3e50;
        margin-bottom: 25px;
        padding-bottom: 12px;
        border-bottom: 2px solid #f0f0f0;
      }

      .demo-box {
        margin-bottom: 30px;
        padding: 20px;
        border-radius: 10px;
        background: #f8f9fa;
        transition: all 0.3s ease;
      }

      .demo-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .demo-title {
        font-weight: bold;
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-code {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        margin: 15px 0;
        overflow-x: auto;
        font-size: 0.95rem;
        white-space: pre;
      }

      .demo-output {
        padding: 15px;
        background: white;
        border-radius: 8px;
        border-left: 4px solid;
        margin-top: 15px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .class-demo {
        border-left-color: #3b82f6;
      }
      .literal-demo {
        border-left-color: #10b981;
      }
      .symbol-demo {
        border-left-color: #f59e0b;
      }
      .method-demo {
        border-left-color: #ef4444;
      }
      .proxy-demo {
        border-left-color: #8b5cf6;
      }
      .assign-demo {
        border-left-color: #06b6d4;
      }

      .interactive-demo {
        margin-top: 30px;
      }

      .code-executor {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .code-input {
        width: 100%;
        min-height: 120px;
        background: #0f172a;
        color: #e2e8f0;
        border: 1px solid #334155;
        border-radius: 6px;
        padding: 15px;
        font-family: "Courier New", monospace;
        font-size: 1rem;
        margin-bottom: 15px;
        resize: vertical;
      }

      .run-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background 0.3s;
      }

      .run-button:hover {
        background: #2563eb;
      }

      .output-area {
        background: #0f172a;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 6px;
        margin-top: 15px;
        min-height: 80px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .summary {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 25px;
      }

      .summary-item {
        padding: 20px;
        border-radius: 10px;
        background-color: #f8f9fa;
      }

      .summary-item h3 {
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .comparison {
        margin-top: 40px;
        padding: 25px;
        background: linear-gradient(135deg, #fef3c7 0%, #fef7ed 100%);
        border-radius: 12px;
        border-left: 6px solid #f59e0b;
      }

      .comparison h3 {
        color: #92400e;
        margin-bottom: 15px;
      }

      footer {
        text-align: center;
        margin-top: 50px;
        padding: 25px;
        color: #7f8c8d;
        font-size: 0.95rem;
        border-top: 1px solid #e0e0e0;
      }

      @media (max-width: 768px) {
        .container {
          grid-template-columns: 1fr;
        }
      }

      .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-left: 10px;
      }

      .badge-es6 {
        background: #ec4899;
        color: white;
      }
      .badge-important {
        background: #ef4444;
        color: white;
      }

      .method-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }

      .method-table th,
      .method-table td {
        border: 1px solid #e2e8f0;
        padding: 12px;
        text-align: left;
      }

      .method-table th {
        background: #f8fafc;
        font-weight: 600;
      }

      .feature-tag {
        display: inline-block;
        padding: 4px 8px;
        background: #dbeafe;
        color: #1e40af;
        border-radius: 4px;
        font-size: 0.8rem;
        margin-right: 5px;
      }

      .syntax-highlight {
        color: #f59e0b;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ES6 (2015) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£</h1>
      <p class="subtitle">æ¢ç´¢ES6å¯¹å¯¹è±¡ç³»ç»Ÿçš„ç°ä»£åŒ–æ”¹è¿›ï¼šç±»è¯­æ³•ã€å¢å¼ºçš„å¯¹è±¡å­—é¢é‡å’Œæ–°ç‰¹æ€§</p>
    </header>

    <div class="container">
      <section class="section">
        <h2>ğŸ—ï¸ Class ç±»è¯­æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. åŸºæœ¬ç±»å®šä¹‰</span>
            <span class="badge badge-important">ES6æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// ES6 Class è¯­æ³•
class Person {
    // æ„é€ å‡½æ•°
    constructor(name, age) {
        this.name = name;
        this.age = age;
    }
    
    // å®ä¾‹æ–¹æ³•
    introduce() {
        return `æˆ‘å«${this.name}ï¼Œä»Šå¹´${this.age}å²`;
    }
    
    // é™æ€æ–¹æ³•
    static createAnonymous() {
        return new Person('åŒ¿å', 0);
    }
    
    // Getter
    get description() {
        return `${this.name} (${this.age})`;
    }
    
    // Setter
    set nickname(value) {
        this._nickname = value;
    }
}

// ä½¿ç”¨ç±»
const person1 = new Person('å¼ ä¸‰', 25);
const anonymous = Person.createAnonymous();

let output = '';
output += person1.introduce() + '\n';
output += `æè¿°: ${person1.description}\n`;
output += `åŒ¿åç”¨æˆ·: ${anonymous.introduce()}\n`;

// æ£€æŸ¥ç±»ç±»å‹
output += `person1æ˜¯Personå®ä¾‹: ${person1 instanceof Person}\n`;
output += `Personç±»å: ${Person.name}`;
          </div>
          <div class="demo-output class-demo" id="output1">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. ç±»ç»§æ‰¿</span>
            <span class="badge badge-important">ES6æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// åŸºç±»
class Animal {
    constructor(name) {
        this.name = name;
    }
    
    speak() {
        return `${this.name} makes a noise.`;
    }
}

// å­ç±»ç»§æ‰¿
class Dog extends Animal {
    constructor(name, breed) {
        super(name); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
        this.breed = breed;
    }
    
    // é‡å†™çˆ¶ç±»æ–¹æ³•
    speak() {
        return `${this.name} barks!`;
    }
    
    // å­ç±»ç‰¹æœ‰æ–¹æ³•
    fetch() {
        return `${this.name} fetches the ball!`;
    }
}

class Cat extends Animal {
    speak() {
        return `${this.name} meows!`;
    }
}

// ä½¿ç”¨ç»§æ‰¿
const dog = new Dog('Buddy', 'Golden Retriever');
const cat = new Cat('Whiskers');

let output = '';
output += dog.speak() + '\n';
output += cat.speak() + '\n';
output += dog.fetch() + '\n';

// æ£€æŸ¥ç»§æ‰¿å…³ç³»
output += `dogæ˜¯Animalå®ä¾‹: ${dog instanceof Animal}\n`;
output += `dogæ˜¯Dogå®ä¾‹: ${dog instanceof Dog}`;
          </div>
          <div class="demo-output class-demo" id="output2">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>ğŸ¨ å¢å¼ºçš„å¯¹è±¡å­—é¢é‡</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. å±æ€§æ–¹æ³•ç®€å†™</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// ES6 å¯¹è±¡å­—é¢é‡å¢å¼º
const name = 'å¼ ä¸‰';
const age = 25;

// å±æ€§ç®€å†™
const person = {
    name,  // ç­‰åŒäº name: name
    age,   // ç­‰åŒäº age: age
    
    // æ–¹æ³•ç®€å†™
    introduce() {
        return `æˆ‘å«${this.name}ï¼Œä»Šå¹´${this.age}å²`;
    },
    
    // è®¡ç®—å±æ€§å
    ['prop_' + (1 + 2)]: 'è®¡ç®—å±æ€§å€¼',
    [Symbol.iterator]: function*() {
        yield this.name;
        yield this.age;
    }
};

let output = '';
output += `å§“å: ${person.name}\n`;
output += `å¹´é¾„: ${person.age}\n`;
output += `ä»‹ç»: ${person.introduce()}\n`;
output += `è®¡ç®—å±æ€§: ${person.prop_3}\n`;

// éå†Symbolå±æ€§
for (let value of person) {
    output += `è¿­ä»£å€¼: ${value}\n`;
}
          </div>
          <div class="demo-output literal-demo" id="output3">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. è§£æ„èµ‹å€¼</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// å¯¹è±¡è§£æ„èµ‹å€¼
const user = {
    id: 1,
    personalInfo: {
        name: 'æå››',
        age: 30,
        contacts: {
            email: 'lisi@example.com',
            phone: '13800138000'
        }
    },
    preferences: {
        theme: 'dark',
        language: 'zh-CN'
    }
};

// åŸºæœ¬è§£æ„
const { id, personalInfo } = user;

// åµŒå¥—è§£æ„
const { 
    personalInfo: { 
        name, 
        contacts: { email } 
    } 
} = user;

// é‡å‘½å
const { personalInfo: { name: userName } } = user;

// é»˜è®¤å€¼
const { settings = { notifications: true } } = user;

// å‡½æ•°å‚æ•°è§£æ„
function displayUser({ personalInfo: { name, age }, id }) {
    return `ç”¨æˆ·${id}: ${name} (${age}å²)`;
}

let output = '';
output += `ID: ${id}\n`;
output += `å§“å: ${name}\n`;
output += `é‚®ç®±: ${email}\n`;
output += `ç”¨æˆ·å: ${userName}\n`;
output += `è®¾ç½®: ${JSON.stringify(settings)}\n`;
output += `å‡½æ•°è°ƒç”¨: ${displayUser(user)}`;
          </div>
          <div class="demo-output literal-demo" id="output4">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <div class="container">
      <section class="section">
        <h2>ğŸ”£ Symbol ä¸å±æ€§</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. Symbol åŸºæœ¬ä½¿ç”¨</span>
            <span class="badge badge-important">ES6æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// Symbol - å”¯ä¸€çš„åŸå§‹å€¼
const sym1 = Symbol('description');
const sym2 = Symbol('description');
const sym3 = Symbol.for('global'); // å…¨å±€Symbol
const sym4 = Symbol.for('global');

const obj = {
    [sym1]: 'symbolå€¼1',
    [sym2]: 'symbolå€¼2',
    normalProp: 'æ™®é€šå±æ€§'
};

let output = '';
output += `sym1 === sym2: ${sym1 === sym2}\n`;
output += `sym3 === sym4: ${sym3 === sym4}\n`;
output += `Symbolæè¿°: ${sym1.description}\n\n`;

output += 'æ™®é€šå±æ€§æšä¸¾:\n';
for (let key in obj) {
    output += `  ${key}: ${obj[key]}\n`;
}

output += '\nSymbolå±æ€§:\n';
output += `  sym1: ${obj[sym1]}\n`;
output += `  sym2: ${obj[sym2]}\n`;

// è·å–Symbolå±æ€§
const symbolKeys = Object.getOwnPropertySymbols(obj);
output += `Symbolå±æ€§æ•°é‡: ${symbolKeys.length}`;
          </div>
          <div class="demo-output symbol-demo" id="output5">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. å†…ç½® Symbol</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// å†…ç½® Symbol çš„ä½¿ç”¨
class CustomCollection {
    constructor() {
        this.items = [];
    }
    
    add(item) {
        this.items.push(item);
    }
    
    // Symbol.iterator - ä½¿å¯¹è±¡å¯è¿­ä»£
    *[Symbol.iterator]() {
        for (let item of this.items) {
            yield item;
        }
    }
    
    // Symbol.toStringTag - è‡ªå®šä¹‰ Object.prototype.toString
    get [Symbol.toStringTag]() {
        return 'CustomCollection';
    }
    
    // Symbol.hasInstance - è‡ªå®šä¹‰ instanceof è¡Œä¸º
    static [Symbol.hasInstance](instance) {
        return Array.isArray(instance.items);
    }
}

const collection = new CustomCollection();
collection.add('item1');
collection.add('item2');
collection.add('item3');

let output = '';
output += 'è¿­ä»£é›†åˆ:\n';
for (let item of collection) {
    output += `  ${item}\n`;
}

output += `\ntoString: ${Object.prototype.toString.call(collection)}\n`;
output += `instanceof æ£€æŸ¥: ${collection instanceof CustomCollection}\n`;

// Symbol.species
class MyArray extends Array {
    // é‡å†™ species åˆ°çˆ¶ç±» Array æ„é€ å‡½æ•°
    static get [Symbol.species]() {
        return Array;
    }
}

const myArray = new MyArray(1, 2, 3);
const mapped = myArray.map(x => x * x);
output += `æ˜ å°„åç±»å‹: ${mapped.constructor.name}`;
          </div>
          <div class="demo-output symbol-demo" id="output6">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>ğŸ› ï¸ æ–°çš„å¯¹è±¡æ–¹æ³•</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. Object.assign()</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// Object.assign() - å¯¹è±¡åˆå¹¶
const target = { a: 1, b: 2 };
const source1 = { b: 3, c: 4 };
const source2 = { c: 5, d: 6 };
const source3 = {
    e: 7,
    get computed() {
        return this.e * 2;
    }
};

// åˆå¹¶å¯¹è±¡
const result = Object.assign(target, source1, source2, source3);

let output = '';
output += `åˆå¹¶ç»“æœ: ${JSON.stringify(result)}\n`;
output += `ç›®æ ‡å¯¹è±¡ä¹Ÿè¢«ä¿®æ”¹: ${JSON.stringify(target)}\n`;
output += `è®¡ç®—å±æ€§å€¼: ${result.computed}\n`;

// å®é™…åº”ç”¨åœºæ™¯
const defaults = { theme: 'light', language: 'en', notifications: true };
const userSettings = { theme: 'dark' };
const finalSettings = Object.assign({}, defaults, userSettings);

output += `\né»˜è®¤è®¾ç½®: ${JSON.stringify(defaults)}\n`;
output += `æœ€ç»ˆè®¾ç½®: ${JSON.stringify(finalSettings)}`;

// æ³¨æ„ï¼šæµ…æ‹·è´
const nestedObj = { nested: { value: 1 } };
const copied = Object.assign({}, nestedObj);
copied.nested.value = 2;
output += `\n\næµ…æ‹·è´æµ‹è¯• - åŸå¯¹è±¡: ${nestedObj.nested.value}, æ‹·è´: ${copied.nested.value}`;
          </div>
          <div class="demo-output assign-demo" id="output7">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. Object.is()</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// Object.is() - ç²¾ç¡®çš„å€¼æ¯”è¾ƒ
let output = '';

// ä¸ === çš„åŒºåˆ«
output += 'ç‰¹æ®Šå€¼æ¯”è¾ƒ:\n';
output += `NaN === NaN: ${NaN === NaN}\n`;
output += `Object.is(NaN, NaN): ${Object.is(NaN, NaN)}\n\n`;

output += `0 === -0: ${0 === -0}\n`;
output += `Object.is(0, -0): ${Object.is(0, -0)}\n\n`;

// å¸¸è§„å€¼æ¯”è¾ƒ
const obj1 = { a: 1 };
const obj2 = { a: 1 };
const obj3 = obj1;

output += 'å¯¹è±¡æ¯”è¾ƒ:\n';
output += `obj1 === obj2: ${obj1 === obj2}\n`;
output += `Object.is(obj1, obj2): ${Object.is(obj1, obj2)}\n`;
output += `obj1 === obj3: ${obj1 === obj3}\n`;
output += `Object.is(obj1, obj3): ${Object.is(obj1, obj3)}\n\n`;

// å®é™…åº”ç”¨
function isEqual(a, b) {
    return Object.is(a, b) || 
           (Number.isNaN(a) && Number.isNaN(b));
}

output += 'è‡ªå®šä¹‰ç›¸ç­‰æ¯”è¾ƒ:\n';
output += `isEqual(NaN, NaN): ${isEqual(NaN, NaN)}\n`;
output += `isEqual(0, -0): ${isEqual(0, -0)}`;
          </div>
          <div class="demo-output method-demo" id="output8">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>3. Object.setPrototypeOf()</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// Object.setPrototypeOf() - åŠ¨æ€è®¾ç½®åŸå‹
const animal = {
    speak() {
        return 'Animal sound';
    }
};

const dog = {
    bark() {
        return 'Woof!';
    }
};

// è®¾ç½®åŸå‹
Object.setPrototypeOf(dog, animal);

let output = '';
output += `dog.bark(): ${dog.bark()}\n`;
output += `dog.speak(): ${dog.speak()}\n`;
output += `åŸå‹é“¾: ${animal.isPrototypeOf(dog)}\n\n`;

// ä¸ Object.create() å¯¹æ¯”
const cat = Object.create(animal, {
    meow: {
        value: function() {
            return 'Meow!';
        }
    }
});

output += `cat.meow(): ${cat.meow()}\n`;
output += `cat.speak(): ${cat.speak()}\n`;

// å®é™…åº”ç”¨ï¼šæ··å…¥æ¨¡å¼
const canSwim = {
    swim() {
        return 'Swimming!';
    }
};

const canFly = {
    fly() {
        return 'Flying!';
    }
};

function createDuck() {
    const duck = { name: 'Duck' };
    Object.setPrototypeOf(duck, canSwim);
    Object.setPrototypeOf(canSwim, canFly);
    return duck;
}

const duck = createDuck();
output += `\né¸­å­èƒ½åŠ›: ${duck.swim()}, ${duck.fly()}`;
          </div>
          <div class="demo-output method-demo" id="output9">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <div class="container">
      <section class="section">
        <h2>ğŸ­ Proxy ä¸åå°„</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. Proxy åŸºæœ¬ä½¿ç”¨</span>
            <span class="badge badge-important">ES6æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
// Proxy - å¯¹è±¡ä»£ç†
const target = {
    name: 'åŸå§‹å¯¹è±¡',
    value: 42
};

const handler = {
    // æ‹¦æˆªå±æ€§è¯»å–
    get(obj, prop) {
        if (prop in obj) {
            return obj[prop];
        } else {
            return `å±æ€§ ${prop} ä¸å­˜åœ¨`;
        }
    },
    
    // æ‹¦æˆªå±æ€§è®¾ç½®
    set(obj, prop, value) {
        if (prop === 'age' && value < 0) {
            throw new Error('å¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°');
        }
        obj[prop] = value;
        return true; // è¡¨ç¤ºæˆåŠŸ
    },
    
    // æ‹¦æˆªå±æ€§æ£€æŸ¥
    has(obj, prop) {
        if (prop.startsWith('_')) {
            return false; // éšè—ç§æœ‰å±æ€§
        }
        return prop in obj;
    }
};

const proxy = new Proxy(target, handler);

let output = '';
output += `è®¿é—®å­˜åœ¨å±æ€§: ${proxy.name}\n`;
output += `è®¿é—®ä¸å­˜åœ¨å±æ€§: ${proxy.unknown}\n`;

try {
    proxy.age = 25;
    output += `è®¾ç½®å¹´é¾„: ${proxy.age}\n`;
    proxy.age = -5;
} catch (e) {
    output += `è®¾ç½®è´Ÿå¹´é¾„é”™è¯¯: ${e.message}\n`;
}

// æ£€æŸ¥å±æ€§
output += `æ£€æŸ¥nameå±æ€§: ${'name' in proxy}\n`;
output += `æ£€æŸ¥_ageå±æ€§: ${'_age' in proxy}`;
          </div>
          <div class="demo-output proxy-demo" id="output10">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. Reflect API</span>
            <span class="badge badge-es6">ES6</span>
          </div>
          <div class="demo-code">
// Reflect - å¯¹è±¡æ“ä½œçš„åå°„æ–¹æ³•
const obj = {
    name: 'åå°„å¯¹è±¡',
    value: 100,
    _secret: 'éšè—æ•°æ®'
};

let output = '';

// Reflect ä¸ Object æ–¹æ³•å¯¹æ¯”
output += 'Reflect æ–¹æ³•æ¼”ç¤º:\n';
output += `Reflect.get(obj, 'name'): ${Reflect.get(obj, 'name')}\n`;

// è®¾ç½®å±æ€§
Reflect.set(obj, 'newProp', 'æ–°å€¼');
output += `Reflect.setå: ${obj.newProp}\n`;

// æ£€æŸ¥å±æ€§
output += `Reflect.has(obj, 'value'): ${Reflect.has(obj, 'value')}\n`;

// åˆ é™¤å±æ€§
Reflect.deleteProperty(obj, 'newProp');
output += `åˆ é™¤ånewPropå­˜åœ¨: ${'newProp' in obj}\n`;

// è·å–å±æ€§å
const keys = Reflect.ownKeys(obj);
output += `æ‰€æœ‰å±æ€§: ${keys.join(', ')}\n\n`;

// ä¸ Proxy é…åˆä½¿ç”¨
const validator = {
    set(target, prop, value) {
        if (prop === 'age' && (value < 0 || value > 150)) {
            throw new Error('æ— æ•ˆå¹´é¾„');
        }
        return Reflect.set(target, prop, value);
    },
    
    get(target, prop) {
        if (prop.startsWith('_')) {
            return undefined;
        }
        return Reflect.get(target, prop);
    }
};

const validatedObj = new Proxy({}, validator);
validatedObj.age = 25;
output += `éªŒè¯åå¹´é¾„: ${validatedObj.age}`;
          </div>
          <div class="demo-output proxy-demo" id="output11">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <section class="section interactive-demo">
      <h2>ğŸ’» ES6 å¯¹è±¡APIäº¤äº’å¼æµ‹è¯•</h2>
      <p>åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­å°è¯•ES6æ–°å¢çš„å¯¹è±¡æ–¹æ³•ï¼š</p>

      <div class="code-executor">
        <textarea class="code-input" id="userCode" placeholder="åœ¨è¿™é‡Œè¾“å…¥JavaScriptä»£ç ...">
// æµ‹è¯• ES6 Class
class Vehicle {
    constructor(brand, year) {
        this.brand = brand;
        this.year = year;
    }
    
    get age() {
        return new Date().getFullYear() - this.year;
    }
    
    info() {
        return `${this.brand} (${this.year}) - ${this.age}å¹´è½¦é¾„`;
    }
}

class Car extends Vehicle {
    constructor(brand, year, doors) {
        super(brand, year);
        this.doors = doors;
    }
    
    info() {
        return `${super.info()}, ${this.doors}é—¨`;
    }
}

// ä½¿ç”¨ç±»
const myCar = new Car('Toyota', 2018, 4);
console.log('è½¦è¾†ä¿¡æ¯:', myCar.info());

// æµ‹è¯•å¯¹è±¡å¢å¼º
const make = 'Honda';
const model = 'Civic';

const car = {
    make,
    model,
    ['VIN_' + Math.random().toString(36).substr(2, 9)]: 'éšæœºVIN',
    *features() {
        yield 'GPS';
        yield 'è“ç‰™';
        yield 'å€’è½¦å½±åƒ';
    }
};

console.log('è½¦è¾†:', car.make, car.model);
console.log('ç‰¹æ€§:');
for (let feature of car.features()) {
    console.log(' -', feature);
}

// æµ‹è¯• Object.assign
const defaults = { color: 'white', fuel: 'gasoline' };
const custom = { color: 'blue' };
const finalSpec = Object.assign({}, defaults, custom);
console.log('æœ€ç»ˆè§„æ ¼:', finalSpec);
            </textarea
        >
        <button class="run-button" onclick="executeUserCode()">è¿è¡Œä»£ç </button>
        <div class="output-area" id="userOutput">è¾“å‡ºç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
      </div>
    </section>

    <section class="summary">
      <h2>ğŸ“š ES6 å¯¹è±¡APIæ–°å¢æ€»ç»“</h2>

      <div class="summary-grid">
        <div class="summary-item">
          <h3>Class è¯­æ³•</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>class</strong> - ç±»å£°æ˜</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>constructor</strong> - æ„é€ å‡½æ•°</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>extends</strong> - ç±»ç»§æ‰¿</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>super</strong> - è°ƒç”¨çˆ¶ç±»</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>static</strong> - é™æ€æ–¹æ³•</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>getter/setter</strong> - è®¿é—®å™¨</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>å¯¹è±¡å­—é¢é‡å¢å¼º</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>å±æ€§ç®€å†™</strong> - { name }</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>æ–¹æ³•ç®€å†™</strong> - { method() {} }</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>è®¡ç®—å±æ€§å</strong> - { [expr]: value }</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>è§£æ„èµ‹å€¼</strong> - const { prop } = obj</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>Symbol</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>Symbol()</strong> - å”¯ä¸€å€¼åˆ›å»º</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>Symbol.iterator</strong> - è¿­ä»£å™¨</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>Symbol.toStringTag</strong> - ç±»å‹æ ‡ç­¾</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>å†…ç½®Symbol</strong> - å„ç§å…ƒç¼–ç¨‹åŠŸèƒ½</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>æ–°å¯¹è±¡æ–¹æ³•</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>Object.assign()</strong> - å¯¹è±¡åˆå¹¶</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>Object.is()</strong> - ç²¾ç¡®æ¯”è¾ƒ</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>Object.setPrototypeOf()</strong> - è®¾ç½®åŸå‹</li>
            <li><span class="feature-tag">æ–°å¢</span><strong>Object.values()/entries()</strong> - å€¼/æ¡ç›®è·å–</li>
          </ul>
        </div>
      </div>

      <div class="comparison">
        <h3>ğŸ’¡ ES6 å¯¹è±¡APIçš„é©å‘½æ€§æ„ä¹‰</h3>
        <p><strong>ç°ä»£åŒ–æ”¹è¿›ï¼š</strong></p>
        <ul>
          <li><strong>Classè¯­æ³•</strong> - æä¾›äº†ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä½“éªŒ</li>
          <li><strong>Symbolç±»å‹</strong> - å¼•å…¥äº†çœŸæ­£çš„ç§æœ‰å±æ€§æœºåˆ¶</li>
          <li><strong>Proxy/Reflect</strong> - å®ç°äº†å…ƒç¼–ç¨‹å’Œæ‹¦æˆªèƒ½åŠ›</li>
          <li><strong>å¯¹è±¡å­—é¢é‡å¢å¼º</strong> - å¤§å¹…ç®€åŒ–äº†å¯¹è±¡åˆ›å»ºè¯­æ³•</li>
          <li><strong>è§£æ„èµ‹å€¼</strong> - æ”¹è¿›äº†æ•°æ®æå–å’Œå‡½æ•°å‚æ•°å¤„ç†</li>
        </ul>
        <p><strong>å½±å“ï¼š</strong> ES6å½»åº•ç°ä»£åŒ–äº†JavaScriptï¼Œä¸ºç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆReactã€Vueã€Angularï¼‰å¥ å®šäº†åŸºç¡€</p>
      </div>

      <table class="method-table">
        <thead>
          <tr>
            <th>ç±»åˆ«</th>
            <th>æ–°å¢ç‰¹æ€§</th>
            <th>ä½œç”¨</th>
            <th>é‡è¦æ€§</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Classè¯­æ³•</td>
            <td>class, extends, super</td>
            <td>ä¼ ç»ŸOOPç¼–ç¨‹ä½“éªŒ</td>
            <td>â­â­â­â­â­</td>
          </tr>
          <tr>
            <td>å¯¹è±¡å­—é¢é‡</td>
            <td>ç®€å†™è¯­æ³•ã€è®¡ç®—å±æ€§</td>
            <td>ç®€åŒ–å¯¹è±¡åˆ›å»º</td>
            <td>â­â­â­â­â­</td>
          </tr>
          <tr>
            <td>Symbol</td>
            <td>Symbol(), å†…ç½®Symbol</td>
            <td>å”¯ä¸€æ ‡è¯†å’Œå…ƒç¼–ç¨‹</td>
            <td>â­â­â­â­</td>
          </tr>
          <tr>
            <td>å¯¹è±¡æ–¹æ³•</td>
            <td>assign(), is(), setPrototypeOf()</td>
            <td>å¢å¼ºå¯¹è±¡æ“ä½œ</td>
            <td>â­â­â­â­</td>
          </tr>
          <tr>
            <td>å…ƒç¼–ç¨‹</td>
            <td>Proxy, Reflect</td>
            <td>æ‹¦æˆªå’Œåå°„æ“ä½œ</td>
            <td>â­â­â­â­</td>
          </tr>
        </tbody>
      </table>
    </section>

    <footer>
      <p>ES6 (2015) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£ &copy; 2023 | JavaScriptçš„ç°ä»£åŒ–é©å‘½</p>
    </footer>

    <script>
      // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œç¤ºä¾‹ä»£ç 
      document.addEventListener("DOMContentLoaded", function () {
        executeExamples();
      });

      function executeExamples() {
        // ç¤ºä¾‹1: åŸºæœ¬ç±»å®šä¹‰
        try {
          class Person {
            constructor(name, age) {
              this.name = name;
              this.age = age;
            }

            introduce() {
              return `æˆ‘å«${this.name}ï¼Œä»Šå¹´${this.age}å²`;
            }

            static createAnonymous() {
              return new Person("åŒ¿å", 0);
            }

            get description() {
              return `${this.name} (${this.age})`;
            }

            set nickname(value) {
              this._nickname = value;
            }
          }

          const person1 = new Person("å¼ ä¸‰", 25);
          const anonymous = Person.createAnonymous();

          let output = "";
          output += person1.introduce() + "\n";
          output += `æè¿°: ${person1.description}\n`;
          output += `åŒ¿åç”¨æˆ·: ${anonymous.introduce()}\n`;
          output += `person1æ˜¯Personå®ä¾‹: ${person1 instanceof Person}\n`;
          output += `Personç±»å: ${Person.name}`;

          document.getElementById("output1").textContent = output;
        } catch (e) {
          document.getElementById("output1").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹2: ç±»ç»§æ‰¿
        try {
          class Animal {
            constructor(name) {
              this.name = name;
            }

            speak() {
              return `${this.name} makes a noise.`;
            }
          }

          class Dog extends Animal {
            constructor(name, breed) {
              super(name);
              this.breed = breed;
            }

            speak() {
              return `${this.name} barks!`;
            }

            fetch() {
              return `${this.name} fetches the ball!`;
            }
          }

          class Cat extends Animal {
            speak() {
              return `${this.name} meows!`;
            }
          }

          const dog = new Dog("Buddy", "Golden Retriever");
          const cat = new Cat("Whiskers");

          let output = "";
          output += dog.speak() + "\n";
          output += cat.speak() + "\n";
          output += dog.fetch() + "\n";
          output += `dogæ˜¯Animalå®ä¾‹: ${dog instanceof Animal}\n`;
          output += `dogæ˜¯Dogå®ä¾‹: ${dog instanceof Dog}`;

          document.getElementById("output2").textContent = output;
        } catch (e) {
          document.getElementById("output2").textContent = "é”™è¯¯: " + e.message;
        }

        // å…¶ä»–ç¤ºä¾‹çš„å®ç°...
        // ç”±äºä»£ç é•¿åº¦é™åˆ¶ï¼Œè¿™é‡Œçœç•¥äº†å…¶ä»–ç¤ºä¾‹çš„æ‰§è¡Œä»£ç 
      }

      function executeUserCode() {
        var userCode = document.getElementById("userCode").value;
        var outputArea = document.getElementById("userOutput");

        try {
          var logMessages = [];
          var originalLog = console.log;
          console.log = function (message) {
            logMessages.push(message);
            originalLog.apply(console, arguments);
          };

          eval(userCode);

          console.log = originalLog;

          outputArea.textContent = logMessages.join("\n") || "ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰è¾“å‡ºã€‚";
          outputArea.style.color = "#e2e8f0";
        } catch (error) {
          outputArea.textContent = "é”™è¯¯: " + error.message;
          outputArea.style.color = "#ef4444";
        }
      }
    </script>
  </body>
</html>
