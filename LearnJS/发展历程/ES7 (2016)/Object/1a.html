<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES2016 (ES7) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f7fa;
        color: #333;
        line-height: 1.6;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      }

      h1 {
        font-size: 2.8rem;
        margin-bottom: 15px;
      }

      .subtitle {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 40px;
      }

      .section {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      h2 {
        color: #2c3e50;
        margin-bottom: 25px;
        padding-bottom: 12px;
        border-bottom: 2px solid #f0f0f0;
      }

      .demo-box {
        margin-bottom: 30px;
        padding: 20px;
        border-radius: 10px;
        background: #f8f9fa;
        transition: all 0.3s ease;
      }

      .demo-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .demo-title {
        font-weight: bold;
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-code {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        margin: 15px 0;
        overflow-x: auto;
        font-size: 0.95rem;
      }

      .demo-output {
        padding: 15px;
        background: white;
        border-radius: 8px;
        border-left: 4px solid;
        margin-top: 15px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .includes-demo {
        border-left-color: #3b82f6;
      }
      .exponentiation-demo {
        border-left-color: #10b981;
      }
      .array-demo {
        border-left-color: #f59e0b;
      }
      .object-demo {
        border-left-color: #ef4444;
      }

      .interactive-demo {
        margin-top: 30px;
      }

      .code-executor {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .code-input {
        width: 100%;
        min-height: 120px;
        background: #0f172a;
        color: #e2e8f0;
        border: 1px solid #334155;
        border-radius: 6px;
        padding: 15px;
        font-family: "Courier New", monospace;
        font-size: 1rem;
        margin-bottom: 15px;
        resize: vertical;
      }

      .run-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background 0.3s;
      }

      .run-button:hover {
        background: #2563eb;
      }

      .output-area {
        background: #0f172a;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 6px;
        margin-top: 15px;
        min-height: 80px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
      }

      .summary {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-top: 40px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      }

      .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 25px;
      }

      .summary-item {
        padding: 20px;
        border-radius: 10px;
        background-color: #f8f9fa;
      }

      .summary-item h3 {
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .comparison {
        margin-top: 40px;
        padding: 25px;
        background: linear-gradient(135deg, #fef3c7 0%, #fef7ed 100%);
        border-radius: 12px;
        border-left: 6px solid #f59e0b;
      }

      .comparison h3 {
        color: #92400e;
        margin-bottom: 15px;
      }

      footer {
        text-align: center;
        margin-top: 50px;
        padding: 25px;
        color: #7f8c8d;
        font-size: 0.95rem;
        border-top: 1px solid #e0e0e0;
      }

      @media (max-width: 768px) {
        .container {
          grid-template-columns: 1fr;
        }
      }

      .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-left: 10px;
      }

      .badge-es7 {
        background: #f59e0b;
        color: white;
      }
      .badge-important {
        background: #ef4444;
        color: white;
      }

      .method-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }

      .method-table th,
      .method-table td {
        border: 1px solid #e2e8f0;
        padding: 12px;
        text-align: left;
      }

      .method-table th {
        background: #f8fafc;
        font-weight: 600;
      }

      .feature-tag {
        display: inline-block;
        padding: 4px 8px;
        background: #dbeafe;
        color: #1e40af;
        border-radius: 4px;
        font-size: 0.8rem;
        margin-right: 5px;
      }

      .syntax-highlight {
        color: #f59e0b;
        font-weight: bold;
      }

      .note {
        background: #f0f9ff;
        border-left: 4px solid #0ea5e9;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ES2016 (ES7) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£</h1>
      <p class="subtitle">æ¢ç´¢ES2016å¼•å…¥çš„ä¸¤ä¸ªé‡è¦ç‰¹æ€§ï¼šArray.prototype.includes() å’Œ æŒ‡æ•°è¿ç®—ç¬¦</p>
    </header>

    <div class="container">
      <section class="section">
        <h2>ğŸ” Array.prototype.includes()</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. åŸºæœ¬ç”¨æ³•</span>
            <span class="badge badge-important">ES7æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
            // Array.prototype.includes() - æ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´  const fruits = ['apple', 'banana', 'orange', 'mango', NaN]; let output = ''; output += `æ°´æœæ•°ç»„: ${fruits.join(', ')}\\n\\n`; // åŸºæœ¬åŒ…å«æ£€æŸ¥ output += `åŒ…å« 'banana': ${fruits.includes('banana')}\\n`; output += `åŒ…å« 'grape':
            ${fruits.includes('grape')}\\n`; // ä»æŒ‡å®šä½ç½®å¼€å§‹æœç´¢ output += `ä»ä½ç½®2å¼€å§‹åŒ…å« 'orange': ${fruits.includes('orange', 2)}\\n`; output += `ä»ä½ç½®2å¼€å§‹åŒ…å« 'apple': ${fruits.includes('apple', 2)}\\n`; // å¤„ç† NaN (ä¸ indexOf çš„é‡è¦åŒºåˆ«) output += `åŒ…å« NaN: ${fruits.includes(NaN)}\\n`;
            output += `indexOf(NaN): ${fruits.indexOf(NaN)}\\n`; // å¯¹è±¡å¼•ç”¨æ£€æŸ¥ const obj1 = { id: 1 }; const obj2 = { id: 2 }; const objects = [obj1, obj2]; output += `\\nåŒ…å«å¯¹è±¡å¼•ç”¨: ${objects.includes(obj1)}\\n`; output += `åŒ…å«ç›¸ä¼¼å¯¹è±¡: ${objects.includes({ id: 1 })}\\n`; // å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä½¿ç”¨
            const message = 'Hello World'; output += `\\nå­—ç¬¦ä¸²åŒ…å« 'World': ${message.includes('World')}\\n`; output += `å­—ç¬¦ä¸²åŒ…å« 'world': ${message.includes('world')}`;
          </div>
          <div class="demo-output includes-demo" id="output1">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. ä¸ indexOf() çš„å¯¹æ¯”</span>
            <span class="badge badge-es7">ES7</span>
          </div>
          <div class="demo-code">
            // includes() ä¸ indexOf() çš„è¯¦ç»†å¯¹æ¯” const testArray = [1, 2, 3, NaN, null, undefined, '']; let output = 'æµ‹è¯•æ•°ç»„: ' + JSON.stringify(testArray) + '\\n\\n'; // å¯¹æ¯”å„ç§æƒ…å†µçš„å¤„ç† const testCases = [ { value: 2, description: 'å­˜åœ¨çš„æ•°å­—' }, { value: 4, description: 'ä¸å­˜åœ¨çš„æ•°å­—' }, {
            value: NaN, description: 'NaN' }, { value: null, description: 'null' }, { value: undefined, description: 'undefined' }, { value: '', description: 'ç©ºå­—ç¬¦ä¸²' } ]; output += 'æ–¹æ³•å¯¹æ¯”ç»“æœ:\\n'; testCases.forEach(testCase => { const includesResult = testArray.includes(testCase.value); const
            indexOfResult = testArray.indexOf(testCase.value); output += `\\n${testCase.description}:\\n`; output += ` includes(): ${includesResult}\\n`; output += ` indexOf(): ${indexOfResult} (${indexOfResult !== -1 ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'})`; }); // å®é™…åº”ç”¨åœºæ™¯ output += '\\n\\nå®é™…åº”ç”¨åœºæ™¯:\\n'; //
            åœºæ™¯1: æƒé™æ£€æŸ¥ const userPermissions = ['read', 'write', 'delete']; const hasWritePermission = userPermissions.includes('write'); output += `ç”¨æˆ·æœ‰å†™æƒé™: ${hasWritePermission}\\n`; // åœºæ™¯2: é»‘åå•æ£€æŸ¥ const blacklist = ['spam@example.com', 'bot@example.com']; const email =
            'user@example.com'; const isBlacklisted = blacklist.includes(email); output += `é‚®ç®±åœ¨é»‘åå•ä¸­: ${isBlacklisted}\\n`; // åœºæ™¯3: åŠŸèƒ½æ£€æµ‹ const supportedFeatures = ['es6', 'modules', 'promises']; const needsModules = supportedFeatures.includes('modules'); output += `éœ€è¦æ¨¡å—æ”¯æŒ:
            ${needsModules}`;
          </div>
          <div class="demo-output includes-demo" id="output2">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>3. åœ¨å¯¹è±¡å’Œç±»ä¸­çš„ä½¿ç”¨</span>
            <span class="badge badge-es7">ES7</span>
          </div>
          <div class="demo-code">
            // åœ¨ç±»å’Œå¯¹è±¡ä¸­ä½¿ç”¨ includes() class ProductCatalog { constructor() { this.products = [ { id: 1, name: 'Laptop', category: 'electronics' }, { id: 2, name: 'Phone', category: 'electronics' }, { id: 3, name: 'Book', category: 'education' }, { id: 4, name: 'Chair', category: 'furniture' }
            ]; } // æ£€æŸ¥äº§å“æ˜¯å¦å­˜åœ¨ hasProduct(productName) { return this.products.map(p => p.name).includes(productName); } // æ£€æŸ¥åˆ†ç±»æ˜¯å¦å­˜åœ¨ hasCategory(category) { const categories = [...new Set(this.products.map(p => p.category))]; return categories.includes(category); } // è·å–åˆ†ç±»ä¸‹çš„äº§å“
            getProductsByCategory(category) { return this.products.filter(product => product.category.includes(category) ); } } // ä½¿ç”¨ç±» const catalog = new ProductCatalog(); let output = ''; output += `æœ‰ç¬”è®°æœ¬ç”µè„‘: ${catalog.hasProduct('Laptop')}\\n`; output += `æœ‰æ±½è½¦:
            ${catalog.hasProduct('Car')}\\n`; output += `æœ‰ç”µå­äº§å“åˆ†ç±»: ${catalog.hasCategory('electronics')}\\n`; output += `æœ‰æœè£…åˆ†ç±»: ${catalog.hasCategory('clothing')}\\n`; // åœ¨å¯¹è±¡æ–¹æ³•ä¸­çš„ä½¿ç”¨ const validator = { requiredFields: ['username', 'email', 'password'], validate(formData) { const
            missingFields = this.requiredFields.filter( field => !Object.keys(formData).includes(field) ); return { isValid: missingFields.length === 0, missingFields }; } }; const formData = { username: 'john', email: 'john@example.com' }; const validation = validator.validate(formData); output +=
            `\\nè¡¨å•éªŒè¯: ${validation.isValid ? 'é€šè¿‡' : 'å¤±è´¥'}\\n`; output += `ç¼ºå¤±å­—æ®µ: ${validation.missingFields.join(', ') || 'æ— '}`;
          </div>
          <div class="demo-output includes-demo" id="output3">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>

      <section class="section">
        <h2>âš¡ æŒ‡æ•°è¿ç®—ç¬¦</h2>

        <div class="demo-box">
          <div class="demo-title">
            <span>1. åŸºæœ¬æŒ‡æ•°è¿ç®—</span>
            <span class="badge badge-important">ES7æ ¸å¿ƒ</span>
          </div>
          <div class="demo-code">
            // æŒ‡æ•°è¿ç®—ç¬¦ ** - æ±‚å¹‚è¿ç®— let output = 'åŸºæœ¬çš„æŒ‡æ•°è¿ç®—:\\n'; // åŸºæœ¬ç”¨æ³• output += `2 ** 3 = ${2 ** 3}\\n`; // 8 output += `3 ** 2 = ${3 ** 2}\\n`; // 9 output += `4 ** 0.5 = ${4 ** 0.5}\\n`; // 2 (å¹³æ–¹æ ¹) output += `2 ** -2 = ${2 ** -2}\\n`; // 0.25 // ä¸ Math.pow() å¯¹æ¯” output +=
            '\\nä¸ Math.pow() å¯¹æ¯”:\\n'; output += `2 ** 10 = ${2 ** 10}\\n`; output += `Math.pow(2, 10) = ${Math.pow(2, 10)}\\n`; // è¿ç»­è¿ç®— output += `2 ** 3 ** 2 = ${2 ** 3 ** 2}\\n`; // ä»å³åˆ°å·¦: 2^(3^2) = 2^9 = 512 output += `(2 ** 3) ** 2 = ${(2 ** 3) ** 2}\\n`; // (2^3)^2 = 8^2 = 64 //
            åœ¨è¡¨è¾¾å¼ä¸­çš„ä½¿ç”¨ const base = 5; const exponent = 3; output += `\\nå˜é‡è¿ç®—: ${base} ** ${exponent} = ${base ** exponent}\\n`; // èµ‹å€¼è¿ç®—ç¬¦ let x = 2; x **= 3; // x = x ** 3 output += `èµ‹å€¼è¿ç®—: x **= 3 å x = ${x}`;
          </div>
          <div class="demo-output exponentiation-demo" id="output4">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>2. åœ¨æ•°å­¦è®¡ç®—ä¸­çš„åº”ç”¨</span>
            <span class="badge badge-es7">ES7</span>
          </div>
          <div class="demo-code">
            // æŒ‡æ•°è¿ç®—ç¬¦åœ¨æ•°å­¦è®¡ç®—ä¸­çš„å®é™…åº”ç”¨ class Calculator { // è®¡ç®—å¤åˆ© static compoundInterest(principal, rate, time) { return principal * (1 + rate) ** time; } // è®¡ç®—å‡ ä½•å¹³å‡æ•° static geometricMean(numbers) { const product = numbers.reduce((acc, num) => acc * num, 1); return product ** (1
            / numbers.length); } // è®¡ç®—ä¸¤ç‚¹é—´è·ç¦» (æ¬§å‡ é‡Œå¾—è·ç¦») static distance(point1, point2) { const dx = point2.x - point1.x; const dy = point2.y - point1.y; return (dx ** 2 + dy ** 2) ** 0.5; } // è®¡ç®—å¤šé¡¹å¼ static polynomial(x, coefficients) { return coefficients.reduce((sum, coef, index) =>
            { return sum + coef * (x ** index); }, 0); } } let output = 'æ•°å­¦è®¡ç®—åº”ç”¨:\\n\\n'; // å¤åˆ©è®¡ç®— const principal = 1000; const annualRate = 0.05; // 5% const years = 10; const futureValue = Calculator.compoundInterest(principal, annualRate, years); output += `å¤åˆ©è®¡ç®—:
            ${principal}å…ƒï¼Œå¹´åŒ–${annualRate * 100}%ï¼Œ${years}å¹´å = ${futureValue.toFixed(2)}å…ƒ\\n`; // å‡ ä½•å¹³å‡æ•° const numbers = [2, 8, 32]; const geoMean = Calculator.geometricMean(numbers); output += `å‡ ä½•å¹³å‡æ•°: [${numbers.join(', ')}] = ${geoMean.toFixed(2)}\\n`; // è·ç¦»è®¡ç®— const pointA = {
            x: 0, y: 0 }; const pointB = { x: 3, y: 4 }; const dist = Calculator.distance(pointA, pointB); output += `ä¸¤ç‚¹è·ç¦»: (${pointA.x},${pointA.y}) åˆ° (${pointB.x},${pointB.y}) = ${dist}\\n`; // å¤šé¡¹å¼è®¡ç®— const coefficients = [1, 2, 3]; // 1 + 2x + 3xÂ² const xValue = 2; const polyResult =
            Calculator.polynomial(xValue, coefficients); output += `å¤šé¡¹å¼ f(${xValue}) = ${coefficients.join(' + ')}x^${coefficients.map((_, i) => i).join(' + ')} = ${polyResult}`;
          </div>
          <div class="demo-output exponentiation-demo" id="output5">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>

        <div class="demo-box">
          <div class="demo-title">
            <span>3. åœ¨å¯¹è±¡å’Œç±»ä¸­çš„ä½¿ç”¨</span>
            <span class="badge badge-es7">ES7</span>
          </div>
          <div class="demo-code">
            // åœ¨ç±»å’Œå¯¹è±¡ä¸­ä½¿ç”¨æŒ‡æ•°è¿ç®—ç¬¦ class Vector { constructor(x, y, z = 0) { this.x = x; this.y = y; this.z = z; } // è®¡ç®—å‘é‡çš„é•¿åº¦ï¼ˆæ¨¡ï¼‰ get magnitude() { return (this.x ** 2 + this.y ** 2 + this.z ** 2) ** 0.5; } // å‘é‡ç‚¹ç§¯ dot(other) { return this.x * other.x + this.y * other.y + this.z
            * other.z; } // å‘é‡ç¼©æ”¾ scale(factor) { return new Vector(this.x * factor, this.y * factor, this.z * factor); } // è®¡ç®—è·ç¦» distanceTo(other) { const dx = this.x - other.x; const dy = this.y - other.y; const dz = this.z - other.z; return (dx ** 2 + dy ** 2 + dz ** 2) ** 0.5; } } //
            åœ¨å¯¹è±¡å­—é¢é‡ä¸­çš„ä½¿ç”¨ const mathUtils = { // è®¡ç®—åœ†çš„é¢ç§¯ circleArea(radius) { return Math.PI * (radius ** 2); }, // è®¡ç®—çƒä½“ä½“ç§¯ sphereVolume(radius) { return (4 / 3) * Math.PI * (radius ** 3); }, // è®¡ç®—ç«‹æ–¹ä½“ä½“ç§¯ cubeVolume(side) { return side ** 3; }, // äºŒè¿›åˆ¶åˆ°åè¿›åˆ¶è½¬æ¢
            binaryToDecimal(binaryStr) { return parseInt(binaryStr, 2); }, // ä½¿ç”¨æŒ‡æ•°è¿ç®—ç¬¦è¿›è¡Œå•ä½è½¬æ¢ bytesToGB(bytes) { return bytes / (1024 ** 3); } }; let output = 'å‘é‡å’Œå‡ ä½•è®¡ç®—:\\n\\n'; // å‘é‡è®¡ç®— const v1 = new Vector(3, 4); const v2 = new Vector(1, 2, 2); output += `å‘é‡ v1(3,4) é•¿åº¦:
            ${v1.magnitude}\\n`; output += `å‘é‡ v2(1,2,2) é•¿åº¦: ${v2.magnitude}\\n`; output += `ä¸¤ç‚¹è·ç¦»: ${v1.distanceTo(new Vector(0, 0))}\\n`; // å‡ ä½•è®¡ç®— output += `\\nå‡ ä½•è®¡ç®—:\\n`; output += `åŠå¾„5çš„åœ†é¢ç§¯: ${mathUtils.circleArea(5).toFixed(2)}\\n`; output += `åŠå¾„3çš„çƒä½“ç§¯:
            ${mathUtils.sphereVolume(3).toFixed(2)}\\n`; output += `è¾¹é•¿ä¸º4çš„ç«‹æ–¹ä½“ä½“ç§¯: ${mathUtils.cubeVolume(4)}\\n`; output += `1GB = ${mathUtils.bytesToGB(1)} bytes`;
          </div>
          <div class="demo-output exponentiation-demo" id="output6">
            <!-- è¾“å‡ºå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
          </div>
        </div>
      </section>
    </div>

    <section class="section interactive-demo">
      <h2>ğŸ’» ES2016 ç‰¹æ€§äº¤äº’å¼æµ‹è¯•</h2>
      <p>åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­å°è¯•ES2016æ–°å¢çš„ç‰¹æ€§ï¼š</p>

      <div class="code-executor">
        <textarea class="code-input" id="userCode" placeholder="åœ¨è¿™é‡Œè¾“å…¥JavaScriptä»£ç ...">
// æµ‹è¯• Array.prototype.includes()
const programmingLanguages = ['JavaScript', 'Python', 'Java', 'C++', 'Ruby'];

console.log('ç¼–ç¨‹è¯­è¨€æ•°ç»„:', programmingLanguages);
console.log('åŒ…å« JavaScript:', programmingLanguages.includes('JavaScript'));
console.log('åŒ…å« Go:', programmingLanguages.includes('Go'));
console.log('ä»ä½ç½®2å¼€å§‹åŒ…å« Java:', programmingLanguages.includes('Java', 2));

// å¤„ç†ç‰¹æ®Šå€¼
const specialValues = [1, NaN, null, undefined];
console.log('\nç‰¹æ®Šå€¼æ•°ç»„:', specialValues);
console.log('åŒ…å« NaN:', specialValues.includes(NaN));
console.log('indexOf NaN:', specialValues.indexOf(NaN));

// æµ‹è¯•æŒ‡æ•°è¿ç®—ç¬¦
console.log('\n--- æŒ‡æ•°è¿ç®—ç¬¦æµ‹è¯• ---');
console.log('2 ** 8 =', 2 ** 8);
console.log('3 ** 3 =', 3 ** 3);
console.log('16 ** 0.5 =', 16 ** 0.5); // å¹³æ–¹æ ¹

// å®é™…åº”ç”¨ï¼šè®¡ç®—é¢ç§¯å’Œä½“ç§¯
const radius = 5;
const circleArea = Math.PI * (radius ** 2);
const sphereVolume = (4/3) * Math.PI * (radius ** 3);

console.log('\nå‡ ä½•è®¡ç®—:');
console.log(`åŠå¾„ ${radius} çš„åœ†é¢ç§¯:`, circleArea.toFixed(2));
console.log(`åŠå¾„ ${radius} çš„çƒä½“ç§¯:`, sphereVolume.toFixed(2));

// åœ¨å‡½æ•°ä¸­ä½¿ç”¨
function isPowerOfTwo(num) {
    if (num <= 0) return false;
    return (num & (num - 1)) === 0;
}

console.log('\n2çš„å¹‚æ£€æŸ¥:');
console.log('8 æ˜¯ 2 çš„å¹‚:', isPowerOfTwo(8));
console.log('10 æ˜¯ 2 çš„å¹‚:', isPowerOfTwo(10));
            </textarea
        >
        <button class="run-button" onclick="executeUserCode()">è¿è¡Œä»£ç </button>
        <div class="output-area" id="userOutput">è¾“å‡ºç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
      </div>
    </section>

    <section class="summary">
      <h2>ğŸ“š ES2016 ç‰¹æ€§æ€»ç»“</h2>

      <div class="note"><strong>æ³¨æ„ï¼š</strong> ES2016 (ES7) æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„æ›´æ–°ï¼Œä¸»è¦å¼•å…¥äº†ä¸¤ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œæ²¡æœ‰å¯¹ObjectåŸå‹æ·»åŠ æ–°çš„æ–¹æ³•ã€‚</div>

      <div class="summary-grid">
        <div class="summary-item">
          <h3>Array.prototype.includes()</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>è¯­æ³•</strong>: <code>array.includes(value, fromIndex)</code></li>
            <li><span class="feature-tag">ä¼˜åŠ¿</span>å¯ä»¥æ­£ç¡®æ£€æµ‹ <code>NaN</code></li>
            <li><span class="feature-tag">ä¼˜åŠ¿</span>è¿”å›å¸ƒå°”å€¼ï¼Œè¯­ä¹‰æ›´æ¸…æ™°</li>
            <li><span class="feature-tag">åº”ç”¨</span>æƒé™æ£€æŸ¥ã€é»‘åå•éªŒè¯ç­‰</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>æŒ‡æ•°è¿ç®—ç¬¦</h3>
          <ul>
            <li><span class="feature-tag">æ–°å¢</span><strong>è¯­æ³•</strong>: <code>base ** exponent</code></li>
            <li><span class="feature-tag">ä¼˜åŠ¿</span>è¯­æ³•æ›´ç®€æ´ç›´è§‚</li>
            <li><span class="feature-tag">ä¼˜åŠ¿</span>æ”¯æŒèµ‹å€¼è¿ç®—ç¬¦ <code>**=</code></li>
            <li><span class="feature-tag">åº”ç”¨</span>æ•°å­¦è®¡ç®—ã€å‡ ä½•è¿ç®—ç­‰</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>ä¸ä¹‹å‰ç‰ˆæœ¬çš„å¯¹æ¯”</h3>
          <ul>
            <li><span class="feature-tag">æ”¹è¿›</span><code>includes()</code> vs <code>indexOf()</code></li>
            <li><span class="feature-tag">æ”¹è¿›</span><code>**</code> vs <code>Math.pow()</code></li>
            <li><span class="feature-tag">ç‰¹æ€§</span>è¿™ä¸¤ä¸ªç‰¹æ€§ä¹Ÿè¢«æ·»åŠ åˆ°TypedArraysä¸­</li>
          </ul>
        </div>

        <div class="summary-item">
          <h3>æµè§ˆå™¨å…¼å®¹æ€§</h3>
          <ul>
            <li><span class="feature-tag">æ”¯æŒ</span>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ</li>
            <li><span class="feature-tag">æ³¨æ„</span>æ—§ç‰ˆæµè§ˆå™¨éœ€è¦polyfill</li>
            <li><span class="feature-tag">å·¥å…·</span>Babelç­‰è½¬è¯‘å™¨æ”¯æŒ</li>
          </ul>
        </div>
      </div>

      <div class="comparison">
        <h3>ğŸ’¡ ES2016 çš„é‡è¦æ„ä¹‰</h3>
        <p><strong>è™½ç„¶æ˜¯å°æ›´æ–°ï¼Œä½†å¾ˆå®ç”¨ï¼š</strong></p>
        <ul>
          <li><strong>includes()æ–¹æ³•</strong> - è§£å†³äº†<code>indexOf()</code>æ— æ³•æ£€æµ‹NaNçš„é—®é¢˜ï¼Œæä¾›äº†æ›´è¯­ä¹‰åŒ–çš„æ•°ç»„åŒ…å«æ£€æŸ¥</li>
          <li><strong>æŒ‡æ•°è¿ç®—ç¬¦</strong> - æä¾›äº†æ›´ç®€æ´çš„æ•°å­¦è¿ç®—è¯­æ³•ï¼Œæé«˜äº†æ•°å­¦ç›¸å…³ä»£ç çš„å¯è¯»æ€§</li>
          <li><strong>æŒç»­æ”¹è¿›</strong> - ä½“ç°äº†ECMAScriptæ ‡å‡†çš„æŒç»­æ¼”è¿›æ¨¡å¼ï¼Œæ¯å¹´éƒ½æœ‰ç¨³å®šçš„æ–°ç‰¹æ€§</li>
        </ul>
        <p><strong>å½±å“ï¼š</strong> è¿™ä¸¤ä¸ªç‰¹æ€§è™½ç„¶ç®€å•ï¼Œä½†åœ¨æ—¥å¸¸å¼€å‘ä¸­éå¸¸å®ç”¨ï¼Œå¤§å¤§æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œç¼–å†™æ•ˆç‡</p>
      </div>

      <table class="method-table">
        <thead>
          <tr>
            <th>ç‰¹æ€§</th>
            <th>è¯­æ³•</th>
            <th>ä½œç”¨</th>
            <th>æ›¿ä»£æ–¹æ¡ˆ</th>
            <th>é‡è¦æ€§</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Array.prototype.includes()</td>
            <td><code>arr.includes(value)</code></td>
            <td>æ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </td>
            <td><code>arr.indexOf(value) !== -1</code></td>
            <td>â­â­â­â­</td>
          </tr>
          <tr>
            <td>æŒ‡æ•°è¿ç®—ç¬¦</td>
            <td><code>base ** exponent</code></td>
            <td>æ±‚å¹‚è¿ç®—</td>
            <td><code>Math.pow(base, exponent)</code></td>
            <td>â­â­â­</td>
          </tr>
        </tbody>
      </table>
    </section>

    <footer>
      <p>ES2016 (ES7) å¯¹è±¡APIæ”¹åŠ¨è¯¦è§£ &copy; 2023 | å°è€Œå®ç”¨çš„JavaScriptç‰¹æ€§æ›´æ–°</p>
    </footer>

    <script>
      // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œç¤ºä¾‹ä»£ç 
      document.addEventListener("DOMContentLoaded", function () {
        executeExamples();
      });

      function executeExamples() {
        // ç¤ºä¾‹1: Array.prototype.includes() åŸºæœ¬ç”¨æ³•
        try {
          const fruits = ["apple", "banana", "orange", "mango", NaN];
          let output = "";
          output += `æ°´æœæ•°ç»„: ${fruits.join(", ")}\n\n`;
          output += `åŒ…å« 'banana': ${fruits.includes("banana")}\n`;
          output += `åŒ…å« 'grape': ${fruits.includes("grape")}\n`;
          output += `ä»ä½ç½®2å¼€å§‹åŒ…å« 'orange': ${fruits.includes("orange", 2)}\n`;
          output += `ä»ä½ç½®2å¼€å§‹åŒ…å« 'apple': ${fruits.includes("apple", 2)}\n`;
          output += `åŒ…å« NaN: ${fruits.includes(NaN)}\n`;
          output += `indexOf(NaN): ${fruits.indexOf(NaN)}\n`;

          const obj1 = { id: 1 };
          const obj2 = { id: 2 };
          const objects = [obj1, obj2];
          output += `\nåŒ…å«å¯¹è±¡å¼•ç”¨: ${objects.includes(obj1)}\n`;
          output += `åŒ…å«ç›¸ä¼¼å¯¹è±¡: ${objects.includes({ id: 1 })}\n`;

          const message = "Hello World";
          output += `\nå­—ç¬¦ä¸²åŒ…å« 'World': ${message.includes("World")}\n`;
          output += `å­—ç¬¦ä¸²åŒ…å« 'world': ${message.includes("world")}`;

          document.getElementById("output1").textContent = output;
        } catch (e) {
          document.getElementById("output1").textContent = "é”™è¯¯: " + e.message;
        }

        // ç¤ºä¾‹2: ä¸ indexOf() çš„å¯¹æ¯”
        try {
          const testArray = [1, 2, 3, NaN, null, undefined, ""];
          let output = "æµ‹è¯•æ•°ç»„: " + JSON.stringify(testArray) + "\n\n";

          const testCases = [
            { value: 2, description: "å­˜åœ¨çš„æ•°å­—" },
            { value: 4, description: "ä¸å­˜åœ¨çš„æ•°å­—" },
            { value: NaN, description: "NaN" },
            { value: null, description: "null" },
            { value: undefined, description: "undefined" },
            { value: "", description: "ç©ºå­—ç¬¦ä¸²" },
          ];

          output += "æ–¹æ³•å¯¹æ¯”ç»“æœ:\n";
          testCases.forEach(testCase => {
            const includesResult = testArray.includes(testCase.value);
            const indexOfResult = testArray.indexOf(testCase.value);

            output += `\n${testCase.description}:\n`;
            output += `  includes(): ${includesResult}\n`;
            output += `  indexOf(): ${indexOfResult} (${indexOfResult !== -1 ? "å­˜åœ¨" : "ä¸å­˜åœ¨"})`;
          });

          const userPermissions = ["read", "write", "delete"];
          const hasWritePermission = userPermissions.includes("write");
          output += `\n\nç”¨æˆ·æœ‰å†™æƒé™: ${hasWritePermission}\n`;

          const blacklist = ["spam@example.com", "bot@example.com"];
          const email = "user@example.com";
          const isBlacklisted = blacklist.includes(email);
          output += `é‚®ç®±åœ¨é»‘åå•ä¸­: ${isBlacklisted}\n`;

          const supportedFeatures = ["es6", "modules", "promises"];
          const needsModules = supportedFeatures.includes("modules");
          output += `éœ€è¦æ¨¡å—æ”¯æŒ: ${needsModules}`;

          document.getElementById("output2").textContent = output;
        } catch (e) {
          document.getElementById("output2").textContent = "é”™è¯¯: " + e.message;
        }

        // å…¶ä»–ç¤ºä¾‹çš„å®ç°...
      }

      function executeUserCode() {
        var userCode = document.getElementById("userCode").value;
        var outputArea = document.getElementById("userOutput");

        try {
          var logMessages = [];
          var originalLog = console.log;
          console.log = function (message) {
            logMessages.push(message);
            originalLog.apply(console, arguments);
          };

          eval(userCode);

          console.log = originalLog;

          outputArea.textContent = logMessages.join("\n") || "ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰è¾“å‡ºã€‚";
          outputArea.style.color = "#e2e8f0";
        } catch (error) {
          outputArea.textContent = "é”™è¯¯: " + error.message;
          outputArea.style.color = "#ef4444";
        }
      }
    </script>
  </body>
</html>
