<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="errorBtn">按钮1</button>

    <script>
      const errorBtn = document.getElementById("errorBtn");

      errorBtn.addEventListener("click", function (event) {
        try {
          // 可能会出错的代码
          const data = JSON.parse("invalid json");
          console.log(data);
        } catch (error) {
          console.error("事件处理出错:", error);
          // 阻止事件继续传播
          // event.stopPropagation();
        }
      });

      // 全局事件错误处理
      window.addEventListener("error", function (event) {
        console.error("全局错误:", event.error);
      });

      // 未处理的 Promise 拒绝
      window.addEventListener("unhandledrejection", function (event) {
        console.error("未处理的 Promise 拒绝:", event.reason);
      });
    </script>
  </body>
</html>
