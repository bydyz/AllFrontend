<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>scrollLeft å±æ€§è¯¦è§£</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        color: #333;
        line-height: 1.6;
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 30px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 2.5rem;
      }

      .subtitle {
        color: #7f8c8d;
        font-size: 1.3rem;
        max-width: 800px;
        margin: 0 auto;
      }

      .content {
        display: grid;
        grid-template-columns: 100%;
        margin-bottom: 40px;
      }

      .demo-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 40px;
      }

      .explanation-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      }

      h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #e67e22;
      }

      h3 {
        color: #2c3e50;
        margin: 25px 0 15px 0;
      }

      .demo-container {
        position: relative;
        width: 100%;
        height: 400px;
        border: 2px solid #34495e;
        margin: 25px 0;
        background: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        overflow: hidden;
      }

      .horizontal-scroll-element {
        width: 100%;
        height: 100%;
        overflow: auto;
        border: 2px solid #e67e22;
        border-radius: 8px;
        background: white;
        position: relative;
        white-space: nowrap;
      }

      .scroll-content-horizontal {
        display: inline-block;
        min-width: 1500px;
        padding: 20px;
        background: linear-gradient(90deg, #3498db11 0%, #2ecc7111 20%, #e74c3c11 40%, #f39c1211 60%, #9b59b611 80%, #1abc9c11 100%);
      }

      .content-column {
        display: inline-block;
        width: 280px;
        height: 340px;
        margin: 0 15px;
        padding: 20px;
        border-radius: 8px;
        vertical-align: top;
        white-space: normal;
        border: 2px solid;
      }

      .column-1 {
        background: #3498db33;
        border-color: #3498db;
      }
      .column-2 {
        background: #2ecc7133;
        border-color: #2ecc71;
      }
      .column-3 {
        background: #e74c3c33;
        border-color: #e74c3c;
      }
      .column-4 {
        background: #f39c1233;
        border-color: #f39c12;
      }
      .column-5 {
        background: #9b59b633;
        border-color: #9b59b6;
      }

      .scroll-indicator {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(230, 126, 34, 0.9);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: bold;
        z-index: 10;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      .scroll-position-line {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 3px;
        background: #e74c3c;
        z-index: 5;
        pointer-events: none;
      }

      .scroll-marker {
        position: absolute;
        top: 10px;
        padding: 5px 10px;
        background: rgba(231, 76, 60, 0.1);
        border-top: 3px solid #e74c3c;
        font-size: 0.8rem;
        color: #e74c3c;
        pointer-events: none;
      }

      .controls {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 20px 0;
      }

      button {
        padding: 12px 15px;
        background: #e67e22;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
        font-weight: 600;
      }

      button:hover {
        background: #d35400;
        transform: translateY(-2px);
      }

      button.secondary {
        background: #3498db;
      }

      button.secondary:hover {
        background: #2980b9;
      }

      .property-display {
        background: #2c3e50;
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .property-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 10px 0;
        padding: 8px 12px;
        background: #34495e;
        border-radius: 6px;
      }

      .property-name {
        font-weight: bold;
        font-size: 1.1rem;
      }

      .property-value {
        font-family: "Courier New", monospace;
        font-size: 1.2rem;
        color: #f1c40f;
        font-weight: bold;
      }

      .scroll-controls {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .control-group {
        margin: 15px 0;
      }

      .control-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #2c3e50;
      }

      .range-slider {
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: #ddd;
        outline: none;
        -webkit-appearance: none;
      }

      .range-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #e67e22;
        cursor: pointer;
      }

      .range-value {
        text-align: center;
        font-weight: bold;
        color: #e67e22;
        margin-top: 5px;
      }

      .progress-container {
        width: 100%;
        height: 8px;
        background: #ecf0f1;
        border-radius: 4px;
        margin: 20px 0;
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #3498db, #e67e22);
        width: 0%;
        transition: width 0.1s ease;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .comparison-table th {
        background: #e67e22;
        color: white;
        padding: 12px 15px;
        text-align: left;
      }

      .comparison-table td {
        padding: 10px 15px;
        border-bottom: 1px solid #ecf0f1;
      }

      .comparison-table tr:nth-child(even) {
        background: #f8f9fa;
      }

      .code-block {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        font-family: "Courier New", monospace;
        margin: 20px 0;
        overflow-x: auto;
        font-size: 0.9rem;
        line-height: 1.5;
        white-space: pre;
      }

      .special-cases {
        background: #fff9e6;
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #f1c40f;
        margin: 20px 0;
      }

      .case-example {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        border: 1px solid #e9ecef;
      }

      .rtl-demo {
        direction: rtl;
        text-align: right;
        padding: 15px;
        background: #fef5e7;
        border-radius: 8px;
        margin: 15px 0;
        border: 2px solid #e67e22;
      }

      .scroll-events {
        background: #e8f6f3;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border: 2px solid #1abc9c;
      }

      @media (max-width: 968px) {
        .content {
          grid-template-columns: 1fr;
        }

        .controls {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>scrollLeft å±æ€§è¯¦è§£</h1>
        <p class="subtitle">æ·±å…¥ç†è§£ scrollLeft çš„å·¥ä½œåŸç†ã€RTLæ¨¡å¼ç‰¹æ€§å’Œå®é™…åº”ç”¨</p>
      </header>

      <div class="content">
        <div class="demo-section">
          <h2>äº¤äº’æ¼”ç¤º</h2>
          <p>æ°´å¹³æ»šåŠ¨ä¸‹æ–¹å†…å®¹æˆ–ä½¿ç”¨æ§åˆ¶æŒ‰é’®ï¼Œè§‚å¯Ÿ scrollLeft å€¼çš„å˜åŒ–</p>

          <div class="demo-container">
            <div class="horizontal-scroll-element" id="scrollElement">
              <div class="scroll-indicator" id="scrollIndicator">scrollLeft: <span id="scrollLeftValue">0</span>px</div>
              <div class="scroll-content-horizontal" id="scrollContent">
                <div class="content-column column-1">
                  <h3>ç¬¬ä¸€åˆ—</h3>
                  <p>scrollLeft = 0px</p>
                  <p>æ»šåŠ¨ä½ç½®åœ¨æœ€å·¦ä¾§</p>
                  <div style="margin-top: 20px">
                    <p>å†…å®¹åŒºåŸŸ 1</p>
                    <p>æ°´å¹³æ»šåŠ¨æ¼”ç¤º</p>
                  </div>
                </div>
                <div class="content-column column-2">
                  <h3>ç¬¬äºŒåˆ—</h3>
                  <p>ç›®æ ‡ä½ç½®: 300px</p>
                  <p>ç‚¹å‡»æŒ‰é’®æ»šåŠ¨åˆ°è¿™é‡Œ</p>
                  <div style="margin-top: 20px">
                    <p>å†…å®¹åŒºåŸŸ 2</p>
                    <p>æ³¨æ„ scrollLeft å˜åŒ–</p>
                  </div>
                </div>
                <div class="content-column column-3">
                  <h3>ç¬¬ä¸‰åˆ—</h3>
                  <p>ç›®æ ‡ä½ç½®: 600px</p>
                  <p>scrollLeft æ˜¯å¯è¯»å†™å±æ€§</p>
                  <div style="margin-top: 20px">
                    <p>å†…å®¹åŒºåŸŸ 3</p>
                    <p>æ°´å¹³æ»šåŠ¨ç‰¹æ€§</p>
                  </div>
                </div>
                <div class="content-column column-4">
                  <h3>ç¬¬å››åˆ—</h3>
                  <p>ç›®æ ‡ä½ç½®: 900px</p>
                  <p>ç»§ç»­å‘å³æ»šåŠ¨</p>
                  <div style="margin-top: 20px">
                    <p>å†…å®¹åŒºåŸŸ 4</p>
                    <p>è§‚å¯Ÿè¿›åº¦æ¡</p>
                  </div>
                </div>
                <div class="content-column column-5">
                  <h3>ç¬¬äº”åˆ—</h3>
                  <p>ç›®æ ‡ä½ç½®: 1200px</p>
                  <p>æ¥è¿‘æœ€å³ä¾§äº†</p>
                  <div style="margin-top: 20px">
                    <p>å†…å®¹åŒºåŸŸ 5</p>
                    <p>æœ€å¤§ scrollLeft å€¼</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="rtl-demo">
            <h4>RTLï¼ˆä»å³åˆ°å·¦ï¼‰æ¨¡å¼æ¼”ç¤º</h4>
            <p>ä¸‹é¢çš„å®¹å™¨è®¾ç½®äº† <code>direction: rtl</code></p>
            <div class="horizontal-scroll-element" id="rtlScrollElement" style="direction: rtl">
              <div style="display: inline-block; min-width: 800px; padding: 15px; background: #f39c1233">
                <div style="display: inline-block; width: 200px; margin: 0 10px; padding: 15px; background: white; border-radius: 6px">
                  <p>RTL å†…å®¹ 1</p>
                  <p>æ³¨æ„æ»šåŠ¨æ–¹å‘</p>
                </div>
                <div style="display: inline-block; width: 200px; margin: 0 10px; padding: 15px; background: white; border-radius: 6px">
                  <p>RTL å†…å®¹ 2</p>
                  <p>scrollLeft è¡Œä¸ºä¸åŒ</p>
                </div>
              </div>
            </div>
            <div style="margin-top: 10px; text-align: center">
              <span id="rtlScrollLeft">RTL scrollLeft: 0px</span>
            </div>
          </div>

          <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
          </div>
          <div style="text-align: center; margin-bottom: 20px">
            <span id="progressText">æ°´å¹³æ»šåŠ¨è¿›åº¦: 0%</span>
          </div>

          <div class="scroll-controls">
            <div class="control-group">
              <label class="control-label">ç›´æ¥è®¾ç½® scrollLeft å€¼:</label>
              <input type="range" min="0" max="1500" value="0" class="range-slider" id="scrollLeftSlider" />
              <div class="range-value" id="scrollLeftValueDisplay">0px</div>
            </div>
          </div>

          <div class="controls">
            <button onclick="scrollToColumn(300)">æ»šåŠ¨åˆ°ç¬¬äºŒåˆ—</button>
            <button onclick="scrollToColumn(600)">æ»šåŠ¨åˆ°ç¬¬ä¸‰åˆ—</button>
            <button onclick="scrollToColumn(900)">æ»šåŠ¨åˆ°ç¬¬å››åˆ—</button>
            <button class="secondary" onclick="scrollToStart()">å›åˆ°æœ€å·¦</button>
            <button class="secondary" onclick="scrollToEnd()">æ»šåŠ¨åˆ°æœ€å³</button>
            <button onclick="toggleRTL()">åˆ‡æ¢RTLæ¨¡å¼</button>
          </div>

          <div class="property-display">
            <h3 style="color: white; margin-top: 0">æ°´å¹³æ»šåŠ¨å±æ€§å€¼</h3>
            <div class="property-item">
              <span class="property-name">scrollLeft:</span>
              <span class="property-value" id="scrollLeftVal">0px</span>
            </div>
            <div class="property-item">
              <span class="property-name">scrollWidth:</span>
              <span class="property-value" id="scrollWidthVal">0px</span>
            </div>
            <div class="property-item">
              <span class="property-name">clientWidth:</span>
              <span class="property-value" id="clientWidthVal">0px</span>
            </div>
            <div class="property-item">
              <span class="property-name">æœ€å¤§ scrollLeft:</span>
              <span class="property-value" id="maxScrollLeftVal">0px</span>
            </div>
            <div class="property-item">
              <span class="property-name">æ»šåŠ¨ç™¾åˆ†æ¯”:</span>
              <span class="property-value" id="scrollPercentVal">0%</span>
            </div>
          </div>
        </div>

        <div class="explanation-section">
          <h2>scrollLeft è¯¦è§£</h2>

          <div class="special-cases">
            <h3>ğŸ“Œ scrollLeft æ ¸å¿ƒå®šä¹‰</h3>
            <p><strong>scrollLeft = å…ƒç´ å†…å®¹æ°´å¹³æ»šåŠ¨çš„åƒç´ æ•°</strong></p>
            <p>è¡¨ç¤ºå…ƒç´ å†…å®¹å·¦ä¾§åˆ°å¯è§†åŒºåŸŸå·¦ä¾§çš„è·ç¦»ï¼Œè¿™æ˜¯ä¸€ä¸ª<strong>å¯è¯»å†™</strong>å±æ€§ã€‚</p>
          </div>

          <h3>åŸºæœ¬æ¦‚å¿µ</h3>
          <div class="code-block">
// scrollLeft è¡¨ç¤ºå†…å®¹æ°´å¹³æ»šåŠ¨çš„è·ç¦»
element.scrollLeft = å…ƒç´ å†…å®¹å·¦ä¾§ åˆ° å¯è§†åŒºåŸŸå·¦ä¾§ çš„è·ç¦»

// å–å€¼èŒƒå›´
0 â‰¤ element.scrollLeft â‰¤ (element.scrollWidth - element.clientWidth)

// è¯»å†™ç¤ºä¾‹
const element = document.getElementById('scrollElement');

// è¯»å–å½“å‰æ°´å¹³æ»šåŠ¨ä½ç½®
console.log('å½“å‰æ°´å¹³æ»šåŠ¨ä½ç½®:', element.scrollLeft);

// è®¾ç½®æ°´å¹³æ»šåŠ¨ä½ç½®ï¼ˆå¯å†™å±æ€§ï¼‰
element.scrollLeft = 300; // å‘å³æ»šåŠ¨åˆ°300pxä½ç½®
          </div>

          <h3>RTLï¼ˆä»å³åˆ°å·¦ï¼‰æ¨¡å¼ä¸‹çš„ç‰¹æ®Šè¡Œä¸º</h3>
          <div class="code-block">
// åœ¨LTRï¼ˆä»å·¦åˆ°å³ï¼‰æ¨¡å¼ä¸‹
element.style.direction = 'ltr';
console.log('LTR scrollLeft:', element.scrollLeft); // æ­£å¸¸è¡Œä¸º

// åœ¨RTLï¼ˆä»å³åˆ°å·¦ï¼‰æ¨¡å¼ä¸‹
element.style.direction = 'rtl';
console.log('RTL scrollLeft:', element.scrollLeft); // è¡Œä¸ºå¯èƒ½ä¸åŒ

// RTLæ¨¡å¼ä¸‹çš„æœ€å¤§scrollLeftä¸º0
// æœ€å°scrollLeftä¸ºè´Ÿçš„(scrollWidth - clientWidth)
const rtlElement = document.getElementById('rtlElement');
console.log('RTLæœ€å¤§scrollLeft:', rtlElement.scrollLeft); // 0
console.log('RTLæœ€å°scrollLeft:', rtlElement.scrollWidth - rtlElement.clientWidth); // è´Ÿå€¼
          </div>

          <h3>ä¸å…¶ä»–æ»šåŠ¨å±æ€§çš„å…³ç³»</h3>
          <table class="comparison-table">
            <thead>
              <tr>
                <th>å±æ€§</th>
                <th>æè¿°</th>
                <th>æ˜¯å¦å¯å†™</th>
                <th>å–å€¼èŒƒå›´</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>scrollLeft</strong></td>
                <td>æ°´å¹³æ»šåŠ¨ä½ç½®</td>
                <td>æ˜¯</td>
                <td>0 åˆ° (scrollWidth - clientWidth)</td>
              </tr>
              <tr>
                <td>scrollTop</td>
                <td>å‚ç›´æ»šåŠ¨ä½ç½®</td>
                <td>æ˜¯</td>
                <td>0 åˆ° (scrollHeight - clientHeight)</td>
              </tr>
              <tr>
                <td>scrollWidth</td>
                <td>å†…å®¹æ€»å®½åº¦</td>
                <td>å¦</td>
                <td>â‰¥ clientWidth</td>
              </tr>
              <tr>
                <td>clientWidth</td>
                <td>å¯è§†åŒºåŸŸå®½åº¦</td>
                <td>å¦</td>
                <td>å›ºå®šå€¼</td>
              </tr>
            </tbody>
          </table>

          <h3>æ»šåŠ¨äº‹ä»¶å’Œç›‘å¬</h3>
          <div class="scroll-events">
            <h4>æ°´å¹³æ»šåŠ¨äº‹ä»¶æ¼”ç¤º</h4>
            <p>å°è¯•æ°´å¹³æ»šåŠ¨ä¸Šæ–¹å†…å®¹ï¼Œè§‚å¯Ÿäº‹ä»¶è§¦å‘æƒ…å†µ</p>
            <div id="eventLog" style="height: 100px; overflow-y: auto; background: white; padding: 10px; border-radius: 4px; font-size: 0.8rem"></div>
          </div>

          <div class="code-block">
// ç›‘å¬æ°´å¹³æ»šåŠ¨äº‹ä»¶
element.addEventListener('scroll', function(event) {
    console.log('æ°´å¹³æ»šåŠ¨äº‹ä»¶è§¦å‘');
    console.log('å½“å‰ scrollLeft:', this.scrollLeft);
    console.log('æ°´å¹³æ»šåŠ¨ç™¾åˆ†æ¯”:', (this.scrollLeft / (this.scrollWidth - this.clientWidth)) * 100 + '%');
    
    // æ£€æµ‹æ˜¯å¦æ»šåŠ¨åˆ°æœ€å³ä¾§
    const isAtRight = this.scrollLeft + this.clientWidth >= this.scrollWidth;
    if (isAtRight) {
        console.log('å·²æ»šåŠ¨åˆ°æœ€å³ä¾§ï¼');
    }
    
    // æ£€æµ‹æ˜¯å¦æ»šåŠ¨åˆ°æœ€å·¦ä¾§
    const isAtLeft = this.scrollLeft === 0;
    if (isAtLeft) {
        console.log('å·²æ»šåŠ¨åˆ°æœ€å·¦ä¾§ï¼');
    }
});

// RTLæ¨¡å¼ä¸‹çš„æ£€æµ‹
function checkRTLScrollPosition(element) {
    if (getComputedStyle(element).direction === 'rtl') {
        // RTLæ¨¡å¼ä¸‹ï¼ŒscrollLeftä¸º0è¡¨ç¤ºæœ€å³ä¾§
        const isAtStart = element.scrollLeft === 0;
        const isAtEnd = element.scrollLeft <= -(element.scrollWidth - element.clientWidth);
        
        console.log('RTL - æ˜¯å¦åœ¨æœ€å³:', isAtStart);
        console.log('RTL - æ˜¯å¦åœ¨æœ€å·¦:', isAtEnd);
    }
}
          </div>

          <h3>ç‰¹æ®Šæƒ…å†µå’Œæ³¨æ„äº‹é¡¹</h3>

          <div class="case-example">
            <h4>æƒ…å†µ 1: ä¸å¯æ°´å¹³æ»šåŠ¨çš„å…ƒç´ </h4>
            <p>å¯¹äºä¸å¯æ°´å¹³æ»šåŠ¨çš„å…ƒç´ ï¼ŒscrollLeft å§‹ç»ˆä¸º 0ï¼š</p>
            <div class="code-block">
// å…ƒç´ æ²¡æœ‰æ°´å¹³æº¢å‡ºå†…å®¹
element.style.overflowX = 'hidden';
console.log('ä¸å¯æ°´å¹³æ»šåŠ¨å…ƒç´  scrollLeft:', element.scrollLeft); // 0

// å³ä½¿å¼ºåˆ¶è®¾ç½®ä¹Ÿä¼šè¢«å¿½ç•¥
element.scrollLeft = 100;
console.log('è®¾ç½®åçš„ scrollLeft:', element.scrollLeft); // ä»ç„¶ä¸º 0
            </div>
          </div>

          <div class="case-example">
            <h4>æƒ…å†µ 2: RTLæ¨¡å¼ä¸‹çš„è´Ÿå€¼</h4>
            <p>åœ¨RTLæ¨¡å¼ä¸‹ï¼ŒscrollLeft å¯èƒ½ä¸ºè´Ÿå€¼ï¼š</p>
            <div class="code-block">
// RTLæ¨¡å¼ä¸‹çš„scrollLeftè¡Œä¸º
const rtlElement = document.querySelector('[dir="rtl"]');

// åœ¨RTLæ¨¡å¼ä¸‹ï¼Œåˆå§‹scrollLeftå¯èƒ½ä¸º0æˆ–è´Ÿå€¼
console.log('RTLåˆå§‹scrollLeft:', rtlElement.scrollLeft);

// è®¾ç½®scrollLeftæ—¶éœ€è¦æ³¨æ„æ–¹å‘
rtlElement.scrollLeft = -300; // åœ¨RTLæ¨¡å¼ä¸‹å‘å·¦æ»šåŠ¨
            </div>
          </div>

          <div class="case-example">
            <h4>æƒ…å†µ 3: å“åº”å¼å¸ƒå±€ä¸­çš„è¡Œä¸º</h4>
            <p>åœ¨å“åº”å¼å¸ƒå±€ä¸­ï¼ŒscrollLeft çš„æœ€å¤§å€¼ä¼šéšå®¹å™¨å¤§å°å˜åŒ–ï¼š</p>
            <div class="code-block">
function updateHorizontalScroll(element) {
    const maxScrollLeft = element.scrollWidth - element.clientWidth;
    
    // å¦‚æœå½“å‰scrollLeftè¶…è¿‡æ–°çš„æœ€å¤§å€¼ï¼Œè‡ªåŠ¨ä¿®æ­£
    if (element.scrollLeft > maxScrollLeft) {
        element.scrollLeft = maxScrollLeft;
    }
    
    console.log('æ–°çš„æœ€å¤§scrollLeft:', maxScrollLeft);
}

// ç›‘å¬çª—å£å¤§å°å˜åŒ–
window.addEventListener('resize', () => {
    updateHorizontalScroll(scrollElement);
});
            </div>
          </div>

          <h3>å®é™…åº”ç”¨åœºæ™¯</h3>
          <div class="code-block">
// åº”ç”¨ 1: æ°´å¹³è½®æ’­å›¾
class HorizontalCarousel {
    constructor(container) {
        this.container = container;
        this.items = Array.from(container.children);
        this.currentIndex = 0;
        this.itemWidth = this.items[0].offsetWidth;
    }
    
    scrollToIndex(index) {
        this.currentIndex = index;
        const targetScrollLeft = index * this.itemWidth;
        this.smoothScrollTo(targetScrollLeft);
    }
    
    next() {
        if (this.currentIndex < this.items.length - 1) {
            this.scrollToIndex(this.currentIndex + 1);
        }
    }
    
    prev() {
        if (this.currentIndex > 0) {
            this.scrollToIndex(this.currentIndex - 1);
        }
    }
    
    smoothScrollTo(targetScrollLeft, duration = 300) {
        const startPosition = this.container.scrollLeft;
        const distance = targetScrollLeft - startPosition;
        let startTime = null;
        
        function animation(currentTime) {
            if (startTime === null) startTime = currentTime;
            const timeElapsed = currentTime - startTime;
            const progress = Math.min(timeElapsed / duration, 1);
            
            const easeOutCubic = progress => 1 - Math.pow(1 - progress, 3);
            this.container.scrollLeft = startPosition + distance * easeOutCubic(progress);
            
            if (timeElapsed < duration) {
                requestAnimationFrame(animation.bind(this));
            }
        }
        
        requestAnimationFrame(animation.bind(this));
    }
}

// åº”ç”¨ 2: æ°´å¹³æ ‡ç­¾é¡µ
function setupHorizontalTabs(container) {
    const tabs = container.querySelectorAll('.tab');
    const tabContents = container.querySelectorAll('.tab-content');
    
    tabs.forEach((tab, index) => {
        tab.addEventListener('click', () => {
            // æ»šåŠ¨åˆ°å¯¹åº”çš„æ ‡ç­¾é¡µ
            const tabLeft = tab.offsetLeft;
            const tabWidth = tab.offsetWidth;
            const containerWidth = container.clientWidth;
            
            // ç¡®ä¿æ ‡ç­¾åœ¨å¯è§†åŒºåŸŸå†…
            const targetScroll = tabLeft - (containerWidth - tabWidth) / 2;
            container.scrollLeft = Math.max(0, targetScroll);
            
            // æ¿€æ´»å¯¹åº”çš„æ ‡ç­¾é¡µå†…å®¹
            activateTab(index);
        });
    });
}

// åº”ç”¨ 3: æ°´å¹³æ—¶é—´è½´
function setupHorizontalTimeline(timeline) {
    const events = timeline.querySelectorAll('.timeline-event');
    const navButtons = timeline.querySelectorAll('.timeline-nav');
    
    navButtons.forEach(button => {
        button.addEventListener('click', () => {
            const direction = button.dataset.direction;
            const scrollAmount = timeline.clientWidth * 0.8;
            
            if (direction === 'next') {
                timeline.scrollLeft += scrollAmount;
            } else {
                timeline.scrollLeft -= scrollAmount;
            }
        });
    });
    
    // è‡ªåŠ¨æ»šåŠ¨åˆ°å½“å‰æ—¶é—´ç‚¹
    const currentEvent = timeline.querySelector('.current');
    if (currentEvent) {
        const eventLeft = currentEvent.offsetLeft;
        timeline.scrollLeft = eventLeft - (timeline.clientWidth / 2);
    }
}

// åº”ç”¨ 4: å“åº”å¼è¡¨æ ¼æ°´å¹³æ»šåŠ¨
function setupResponsiveTable(tableContainer) {
    let isDragging = false;
    let startX;
    let scrollLeft;
    
    tableContainer.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.pageX - tableContainer.offsetLeft;
        scrollLeft = tableContainer.scrollLeft;
        tableContainer.style.cursor = 'grabbing';
    });
    
    tableContainer.addEventListener('mouseleave', () => {
        isDragging = false;
        tableContainer.style.cursor = 'grab';
    });
    
    tableContainer.addEventListener('mouseup', () => {
        isDragging = false;
        tableContainer.style.cursor = 'grab';
    });
    
    tableContainer.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - tableContainer.offsetLeft;
        const walk = (x - startX) * 2;
        tableContainer.scrollLeft = scrollLeft - walk;
    });
}

// åº”ç”¨ 5: æ°´å¹³æ— é™æ»šåŠ¨
function setupHorizontalInfiniteScroll(container, loadCallback) {
    container.addEventListener('scroll', () => {
        const scrollRight = container.scrollLeft + container.clientWidth;
        const threshold = 100;
        
        if (scrollRight >= container.scrollWidth - threshold) {
            loadCallback().then(newContent => {
                // æ·»åŠ æ–°å†…å®¹åæ›´æ–°scrollWidth
                container.appendChild(newContent);
            });
        }
    });
}
          </div>

          <h3>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
          <div class="special-cases">
            <p><strong>æ°´å¹³æ»šåŠ¨äº‹ä»¶çš„æ€§èƒ½è€ƒè™‘ï¼š</strong></p>
            <ul>
              <li>ä½¿ç”¨é˜²æŠ–æˆ–èŠ‚æµé™åˆ¶æ°´å¹³æ»šåŠ¨äº‹ä»¶çš„æ‰§è¡Œé¢‘ç‡</li>
              <li>é¿å…åœ¨æ»šåŠ¨äº‹ä»¶ä¸­è¿›è¡Œé‡æ’æ“ä½œ</li>
              <li>ä½¿ç”¨CSS <code>will-change: scroll-position</code> ä¼˜åŒ–æ»šåŠ¨æ€§èƒ½</li>
              <li>å¯¹äºå¤æ‚çš„æ°´å¹³æ»šåŠ¨æ•ˆæœï¼Œè€ƒè™‘ä½¿ç”¨CSS Transform</li>
            </ul>
            <div class="code-block">
// ä½¿ç”¨é˜²æŠ–ä¼˜åŒ–æ°´å¹³æ»šåŠ¨
const debouncedScrollHandler = debounce(function() {
    // è¿™é‡Œæ‰§è¡Œéœ€è¦é˜²æŠ–çš„æ“ä½œ
    updateProgressIndicator(this.scrollLeft);
    updateNavigationButtons(this.scrollLeft);
}, 50);

scrollElement.addEventListener('scroll', debouncedScrollHandler);

// CSSä¼˜åŒ–
.horizontal-scroller {
    will-change: scroll-position;
    transform: translateZ(0); /* è§¦å‘ç¡¬ä»¶åŠ é€Ÿ */
}

// ä½¿ç”¨Intersection Observeræ£€æµ‹å¯è§æ€§
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            // æ°´å¹³æ»šåŠ¨é¡¹è¿›å…¥è§†å£
            entry.target.classList.add('visible');
        }
    });
}, {
    root: scrollElement,
    threshold: 0.5,
    rootMargin: '0px 100px' // æ°´å¹³æ–¹å‘çš„é¢„åŠ è½½åŒºåŸŸ
});
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // è·å–DOMå…ƒç´ 
      const scrollElement = document.getElementById("scrollElement");
      const scrollContent = document.getElementById("scrollContent");
      const scrollIndicator = document.getElementById("scrollIndicator");
      const scrollLeftValue = document.getElementById("scrollLeftValue");
      const progressBar = document.getElementById("progressBar");
      const progressText = document.getElementById("progressText");
      const eventLog = document.getElementById("eventLog");
      const rtlScrollElement = document.getElementById("rtlScrollElement");
      const rtlScrollLeft = document.getElementById("rtlScrollLeft");

      // è·å–å±æ€§æ˜¾ç¤ºå…ƒç´ 
      const scrollLeftVal = document.getElementById("scrollLeftVal");
      const scrollWidthVal = document.getElementById("scrollWidthVal");
      const clientWidthVal = document.getElementById("clientWidthVal");
      const maxScrollLeftVal = document.getElementById("maxScrollLeftVal");
      const scrollPercentVal = document.getElementById("scrollPercentVal");

      // è·å–æ§åˆ¶å…ƒç´ 
      const scrollLeftSlider = document.getElementById("scrollLeftSlider");
      const scrollLeftValueDisplay = document.getElementById("scrollLeftValueDisplay");

      // æ›´æ–°å±æ€§æ˜¾ç¤º
      function updateProperties() {
        const scrollLeft = scrollElement.scrollLeft;
        const scrollWidth = scrollElement.scrollWidth;
        const clientWidth = scrollElement.clientWidth;
        const maxScrollLeft = Math.max(0, scrollWidth - clientWidth);
        const scrollPercent = maxScrollLeft > 0 ? (scrollLeft / maxScrollLeft) * 100 : 0;

        scrollLeftVal.textContent = scrollLeft + "px";
        scrollWidthVal.textContent = scrollWidth + "px";
        clientWidthVal.textContent = clientWidth + "px";
        maxScrollLeftVal.textContent = maxScrollLeft + "px";
        scrollPercentVal.textContent = scrollPercent.toFixed(1) + "%";

        // æ›´æ–°æŒ‡ç¤ºå™¨
        scrollLeftValue.textContent = scrollLeft;

        // æ›´æ–°è¿›åº¦æ¡
        progressBar.style.width = scrollPercent + "%";
        progressText.textContent = `æ°´å¹³æ»šåŠ¨è¿›åº¦: ${scrollPercent.toFixed(1)}%`;

        // æ›´æ–°æ»‘å—
        scrollLeftSlider.max = maxScrollLeft;
        scrollLeftSlider.value = scrollLeft;
        scrollLeftValueDisplay.textContent = scrollLeft + "px";

        // æ›´æ–°RTLæ¼”ç¤º
        updateRTLDemo();

        // æ›´æ–°å¯è§†åŒ–æ ‡è®°
        updateScrollMarkers();
      }

      // æ›´æ–°RTLæ¼”ç¤º
      function updateRTLDemo() {
        const rtlScrollLeftValue = rtlScrollElement.scrollLeft;
        rtlScrollLeft.textContent = `RTL scrollLeft: ${rtlScrollLeftValue}px`;
      }

      // æ›´æ–°æ»šåŠ¨æ ‡è®°
      function updateScrollMarkers() {
        // æ¸…é™¤æ—§æ ‡è®°
        document.querySelectorAll(".scroll-position-line, .scroll-marker").forEach(el => el.remove());

        const scrollLeft = scrollElement.scrollLeft;
        const clientWidth = scrollElement.clientWidth;

        // å½“å‰ä½ç½®çº¿
        const positionLine = document.createElement("div");
        positionLine.className = "scroll-position-line";
        positionLine.style.left = scrollLeft + 10 + "px";
        scrollElement.appendChild(positionLine);

        // å½“å‰ä½ç½®æ ‡è®°
        const positionMarker = document.createElement("div");
        positionMarker.className = "scroll-marker";
        positionMarker.style.left = scrollLeft + 15 + "px";
        positionMarker.textContent = `å½“å‰ä½ç½®: ${scrollLeft}px`;
        scrollElement.appendChild(positionMarker);
      }

      // æ·»åŠ äº‹ä»¶æ—¥å¿—
      function addEventLog(message) {
        const now = new Date();
        const time = now.toTimeString().split(" ")[0];
        const logEntry = document.createElement("div");
        logEntry.textContent = `[${time}] ${message}`;
        eventLog.appendChild(logEntry);
        eventLog.scrollTop = eventLog.scrollHeight;

        // é™åˆ¶æ—¥å¿—æ•°é‡
        if (eventLog.children.length > 10) {
          eventLog.removeChild(eventLog.firstChild);
        }
      }

      // æ§åˆ¶å‡½æ•°
      function scrollToColumn(offset) {
        scrollElement.scrollLeft = offset;
        addEventLog(`ç¼–ç¨‹æ°´å¹³æ»šåŠ¨åˆ°: ${offset}px`);
      }

      function scrollToStart() {
        scrollElement.scrollLeft = 0;
        addEventLog("æ»šåŠ¨åˆ°æœ€å·¦ä¾§");
      }

      function scrollToEnd() {
        const maxScroll = scrollElement.scrollWidth - scrollElement.clientWidth;
        scrollElement.scrollLeft = maxScroll;
        addEventLog("æ»šåŠ¨åˆ°æœ€å³ä¾§");
      }

      function toggleRTL() {
        const currentDirection = getComputedStyle(scrollElement).direction;
        if (currentDirection === "ltr") {
          scrollElement.style.direction = "rtl";
          addEventLog("åˆ‡æ¢åˆ°RTLæ¨¡å¼");
        } else {
          scrollElement.style.direction = "ltr";
          addEventLog("åˆ‡æ¢åˆ°LTRæ¨¡å¼");
        }
        updateProperties();
      }

      // å¹³æ»‘æ»šåŠ¨å‡½æ•°
      function smoothScrollTo(targetPosition, duration = 600) {
        const startPosition = scrollElement.scrollLeft;
        const distance = targetPosition - startPosition;
        let startTime = null;

        function animation(currentTime) {
          if (startTime === null) startTime = currentTime;
          const timeElapsed = currentTime - startTime;
          const progress = Math.min(timeElapsed / duration, 1);

          // ç¼“åŠ¨å‡½æ•°
          const easeOutCubic = progress => 1 - Math.pow(1 - progress, 3);

          scrollElement.scrollLeft = startPosition + distance * easeOutCubic(progress);

          if (timeElapsed < duration) {
            requestAnimationFrame(animation);
          }
        }

        requestAnimationFrame(animation);
      }

      // äº‹ä»¶ç›‘å¬
      scrollElement.addEventListener("scroll", function () {
        updateProperties();
        addEventLog(`scrollLeft: ${this.scrollLeft}px`);
      });

      rtlScrollElement.addEventListener("scroll", function () {
        updateRTLDemo();
        addEventLog(`RTL scrollLeft: ${this.scrollLeft}px`);
      });

      scrollLeftSlider.addEventListener("input", function () {
        const value = parseInt(this.value);
        scrollElement.scrollLeft = value;
        scrollLeftValueDisplay.textContent = value + "px";
      });

      // åˆå§‹åŒ–
      updateProperties();

      // æ§åˆ¶å°æ¼”ç¤º
      setTimeout(() => {
        console.log("=== scrollLeft å±æ€§æ¼”ç¤º ===");
        console.log("åˆå§‹ scrollLeft:", scrollElement.scrollLeft);
        console.log("scrollWidth:", scrollElement.scrollWidth);
        console.log("clientWidth:", scrollElement.clientWidth);
        console.log("æœ€å¤§ scrollLeft:", scrollElement.scrollWidth - scrollElement.clientWidth);

        // æ¼”ç¤ºå¯è¯»å†™ç‰¹æ€§
        console.log("\nğŸ”§ æ¼”ç¤ºå¯è¯»å†™ç‰¹æ€§:");
        const originalScrollLeft = scrollElement.scrollLeft;
        scrollElement.scrollLeft = 300;
        console.log("è®¾ç½® scrollLeft = 300, å½“å‰å€¼:", scrollElement.scrollLeft);
        scrollElement.scrollLeft = originalScrollLeft;
        console.log("æ¢å¤åŸä½ç½®:", scrollElement.scrollLeft);

        // RTLæ¨¡å¼æ¼”ç¤º
        console.log("\nğŸŒ RTLæ¨¡å¼æ¼”ç¤º:");
        console.log("RTLå…ƒç´  scrollLeft:", rtlScrollElement.scrollLeft);
        console.log("RTLå…ƒç´  direction:", getComputedStyle(rtlScrollElement).direction);
      }, 1000);
    </script>
  </body>
</html>
